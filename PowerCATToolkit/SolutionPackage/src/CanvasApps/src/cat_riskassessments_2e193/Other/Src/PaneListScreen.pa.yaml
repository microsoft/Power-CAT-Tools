# ************************************************************************************************
# Warning: YAML source code for Canvas Apps is in preview. The schema is being actively developed.
# Content may be incomplete and subject to change.
# This file is read-only and should only be used to review changes made within Power Apps Studio.
# This file isn't used when loading the app. External editing, merging and conflict resolution are
# not supported.
# 
# For more information, visit https://go.microsoft.com/fwlink/?linkid=2292623
# ************************************************************************************************
Screens:
  PaneListScreen:
    Properties:
      Fill: =ColorValue(AppTheme.palette.neutralLighterAlt)
      LoadingSpinnerColor: =RGBA(0, 120, 212, 1)
      OnHidden: "=Concurrent(\n    If(\n        cPane_0.Visible,\n        Select(PrivCancelButtonCanvas),\n        false\n    ),\n    Reset(ddFilter_3),\n    Reset(txtSearch_2),\n    Set(\n        dropDownStatusForEditRoles,\n        Blank()\n    ),\n   // Refresh('Risk Assessments'),\n    Set(\n        currentAssessmentGUID,\n        Blank()\n    ),\n    Set(\n        currentRoleId,\n        Blank()\n    ),\n    Clear(currentRolePrivileges_temp),\n    Clear(currentRolePrivilegesToBeDisplayed),\n    UpdateContext(\n        {\n            skipToUpdatedPage: false,\n            isRiskAssessmentProfileChanged: false,\n            isArchivedAssessmentSelected: false,\n            isRoleUpdatedSuccessfully: false,\n            currentSelectedSecurityRole: Blank(),\n            RoleId: Blank(),\n            RoleName: Blank(),\n            AssessmentId: Blank()\n        }\n    );\n    \n);\n"
      OnVisible: "=/* Load data for this page while spinner is loading */\nIf(\n    init <> true,\n    UpdateContext(\n        {\n            cardTitle: \"Assessment details\",\n            showSpinnerForEditRolesLabel: DVAssessmentPageLoc.loading\n        }\n    );\n    \n);\n/*Set(\n    currentRoleId,\n    RoleId\n);*/\nSet(\n    varPageNumber,\n    1\n);\nConcurrent(\n    UpdateContext(\n        {\n            showMessageBarForPaneScreen: true,\n            showPane: false,\n            showInProgressMessageBar: false,\n            showBaseLineSettingsMessageBar: false,\n            showWarningMessageBar: true,\n            skipToUpdatedPage: false,\n            isArchivedAssessmentSelected: false,\n            makeDetailsListEditableForRoleUpdation: true,\n            showMessageBarForRoleUpdation: false,\n            isRoleUpdatedSuccessfully: false,\n            isRiskAssessmentProfileChanged: false,\n            triggerRetrieveRolePrivileges: !triggerRetrieveRolePrivileges,\n            triggerUpdateRolePrivileges: false,\n            selectedRoleRiskAssessmentProfileId: LookUp(\n                AllRiskAssessmentsFromDataverse,\n                'Security Role'.Role = RoleId && 'Is Archived' = 'Is Archived (Risk Assessments)'.No\n            ).'Risk Assessment Setting'.'Risk Assessment Setting',\n            currentSelectedAssesment: LookUp(\n                AllRiskAssessmentsFromDataverse,\n                'Risk Assessment' = AssessmentId\n            ),\n            currentSelectedSecurityRole: LookUp(\n                'Security Roles',\n                Role = RoleId\n            ),\n            hidePanelBackButton: true\n        }\n    ),\n    Reset(txtSearch_2)\n);\nClearCollect(\n    col_privilegesLevel,\n    securityPrivilegesLevel\n);\nClearCollect(\n    currentRolePrivileges_temp,\n    SelectedAssessmentRolePrivileges\n);\nClearCollect(\n    currentRolePrivilegesToBeDisplayed,\n    currentRolePrivileges_temp\n);\nIf(\n    !IsBlank(AutoScanEnvVar) && AutoScanEnvVar.Value = \"yes\",\n    false,\n    Notify(\n        DVAssessmentPageLoc.privilegesUpdateWarningNotificationWhenAutoScanIsOff,\n        NotificationType.Warning,\n        5000\n    )\n);\nUpdateContext(\n    {\n        init: true,\n        showSpinnerForEditRolesLabel: Blank()\n    }\n);\n"
    Children:
      - cAppFrame_4:
          Control: GroupContainer@1.3.0
          Variant: AutoLayout
          Properties:
            Fill: =ColorValue(AppTheme.palette.neutralLighterAlt)
            Height: =Parent.Height
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutOverflowY: =LayoutOverflow.Scroll
            PaddingRight: =Self.PaddingLeft
            Width: =Parent.Width
          Children:
            - cTopNav_5:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  DropShadow: =DropShadow.None
                  Fill: =ColorValue(AppTheme.palette.neutralLighter)
                  FillPortions: =FlexOff
                  Height: =60
                  LayoutAlignItems: =LayoutAlignItems.Center
                  LayoutDirection: =LayoutDirection.Horizontal
                  LayoutGap: =24
                  PaddingLeft: =20
                  PaddingRight: =20
                  RadiusBottomLeft: =0
                  RadiusBottomRight: =0
                  RadiusTopLeft: =0
                  RadiusTopRight: =0
                Children:
                  - AutoWidthLabel1_7:
                      Control: CodeComponent
                      ComponentName: cat_PowerCAT.AutoWidthLabel
                      Properties:
                        FontSize: =18
                        FontSizeUnits: ='PowerCAT.AutoWidthLabel.FontSizeUnits'.Px
                        FontWeight: ="600"
                        Height: =24
                        Text: =_featureName
                        Tooltip: ="AutoWidthLabel_Desc"
                        Width: =Self.AutoWidth
                  - TabList1_5:
                      Control: TabList@2.2.30
                      Properties:
                        AccessibleLabel: ="Panelistscreentablist"
                        DefaultSelectedItems: |-
                          =LookUp(
                              Nav,
                              ThisRecord.Screen = ListScreen
                          )
                        FillPortions: =FlexOn
                        Items: =Nav
                        OnChange: =Navigate(Self.Selected.Screen);
                      Children:
                        - DisplayName1_5:
                            Control: TabListDataField@1.5.0
                            Variant: textualColumn
                            IsLocked: true
                            Properties:
                              FieldDisplayName: ="DisplayName"
                              FieldName: ="DisplayName"
                              FieldType: ="s"
                              Order: =1
                  - Container11_8:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        BorderColor: =
                        BorderStyle: =BorderStyle.None
                        DropShadow: =DropShadow.None
                        Height: =Parent.Height
                        LayoutAlignItems: =LayoutAlignItems.Center
                        LayoutDirection: =LayoutDirection.Horizontal
                        LayoutGap: =8
                        LayoutJustifyContent: =LayoutJustifyContent.End
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                      Children:
                        - ButtonCanvas1:
                            Control: Button@0.0.44
                            Properties:
                              Appearance: ='ButtonCanvas.Appearance'.Subtle
                              Icon: ="Print"
                              Layout: ='ButtonCanvas.Layout'.IconOnly
                              OnSelect: =//Navigate(PrintScreen,ScreenTransition.None, {PrivilegesListToBeDisplayed:PrivilegesListToBeDisplayed,RoleName:RoleName,AssessmentHistory:First(riskAssessmentHistory)}) //@deniseEdit - This button to navigate to new print page
                              Text: ="Print"
                              Visible: =false
                              Width: =42
                              X: =409
                        - LearnIcon_2:
                            Control: CodeComponent
                            ComponentName: cat_PowerCAT.Icon
                            Properties:
                              AccessibilityLabel: =DVAssessmentPageLoc.learnButtonText
                              FontColor: ="#424242"
                              Height: =Parent.Height
                              HoverFillColor: =AppTheme.palette.neutralLight
                              HoverFontColor: ="#424242"
                              HoverIconColor: ="#424242"
                              IconColor: ="#424242"
                              IconName: ="BookAnswers"
                              IconSize: =20
                              OnChange: |-
                                =Launch(
                                    "https://aka.ms/dvacc/riskassess",
                                    {},
                                    LaunchTarget.New
                                )
                              Tooltip: =DVAssessmentPageLoc.learnButtonText
                              Width: =32
                        - QuestionIcon_2:
                            Control: CodeComponent
                            ComponentName: cat_PowerCAT.Icon
                            Properties:
                              AccessibilityLabel: =DVAssessmentPageLoc.helpButtonText
                              FontColor: ="#424242"
                              Height: =Parent.Height
                              HoverFillColor: =AppTheme.palette.neutralLight
                              HoverFontColor: ="#424242"
                              HoverIconColor: ="#424242"
                              IconColor: ="#424242"
                              IconName: ="StatusCircleQuestionMark"
                              IconSize: =28
                              OnChange: |-
                                =Launch(
                                    "https://aka.ms/dvacc/riskassess/help",
                                    {},
                                    LaunchTarget.New
                                )
                              Tooltip: =DVAssessmentPageLoc.helpButtonText
                              Width: =32
                        - BugIcon_2:
                            Control: CodeComponent
                            ComponentName: cat_PowerCAT.Icon
                            Properties:
                              AccessibilityLabel: ="Report a bug"
                              FontColor: ="#424242"
                              Height: =Parent.Height
                              HoverFillColor: =AppTheme.palette.neutralLight
                              HoverFontColor: ="#424242"
                              HoverIconColor: ="#424242"
                              IconColor: ="#424242"
                              IconName: ="Bug"
                              IconSize: =20
                              OnChange: |-
                                =Launch(
                                    "https://aka.ms/dvacc/riskassess/bug",
                                    {},
                                    LaunchTarget.New
                                )
                              Tooltip: ="Report a bug"
                              Width: =32
            - cMainContent_5:
                Control: GroupContainer@1.3.0
                Variant: AutoLayout
                Properties:
                  LayoutDirection: =LayoutDirection.Horizontal
                Children:
                  - cScreenContainer_2:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        AlignInContainer: =AlignStretch
                        DropShadow: =DropShadow.None
                        Fill: =ColorValue(AppTheme.palette.neutralLighterAlt)
                        FillPortions: =FlexOn
                        Height: =Max(div_3.Y, App.ActiveScreen.Height - Self.Y)
                        LayoutAlignItems: =LayoutAlignItems.Stretch
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutGap: '=0   '
                        LayoutOverflowY: =LayoutOverflow.Scroll
                        PaddingRight: =Self.PaddingLeft
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Visible: =hidePanelBackButton
                        Width: =Parent.Width - Self.X * 2
                      Children:
                        - cPageHeaderMain_2:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              BorderColor: =RGBA(0, 0, 0, 0)
                              BorderStyle: =BorderStyle.None
                              DropShadow: =DropShadow.None
                              Fill: =ColorValue(AppTheme.palette.neutralLighterAlt)
                              FillPortions: =0
                              Height: =div_12.Y + 1
                              LayoutDirection: =LayoutDirection.Vertical
                              PaddingLeft: =Min(16, Margins)
                              PaddingRight: =Self.PaddingLeft
                              PaddingTop: =//16
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                              Width: =1181
                              X: =92
                              Y: =40
                            Children:
                              - cPageHeaderTop_5:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =FlexOff
                                    Height: =75
                                    LayoutAlignItems: =LayoutAlignItems.Center
                                    LayoutDirection: =LayoutDirection.Horizontal
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =1042
                                    X: =68
                                    Y: =52
                                  Children:
                                    - cPageHeaderTitle_7:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          AlignInContainer: =AlignInContainer.SetByContainer
                                          DropShadow: =DropShadow.None
                                          FillPortions: =FlexOn
                                          Height: =cHeaderText_10.Height
                                          LayoutAlignItems: =LayoutAlignItems.Center
                                          LayoutDirection: =LayoutDirection.Horizontal
                                          LayoutGap: =16
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Width: =431
                                          X: =36
                                          Y: =40
                                        Children:
                                          - ButtonCanvas4_10:
                                              Control: Button@0.0.44
                                              Properties:
                                                AccessibleLabel: ="Back"
                                                Appearance: ='ButtonCanvas.Appearance'.Subtle
                                                Icon: ="ArrowLeft"
                                                Layout: ='ButtonCanvas.Layout'.IconOnly
                                                OnSelect: |
                                                  =Back();
                                                  UpdateContext(
                                                      {
                                                          currentSelectedSecurityRole: Blank(),
                                                          showPane: false
                                                      }
                                                  );
                                                Text: =
                                                Width: =32
                                          - cHeaderText_10:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.SetByContainer
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =rDivider_PageHeader_10.Y
                                                LayoutDirection: =LayoutDirection.Vertical
                                                LayoutGap: =4
                                                LayoutJustifyContent: =LayoutJustifyContent.Center
                                                RadiusBottomLeft: =0
                                                RadiusBottomRight: =0
                                                RadiusTopLeft: =0
                                                RadiusTopRight: =0
                                                Width: =Parent.Width - Self.X
                                                X: =1-1
                                                Y: '=1-1 '
                                              Children:
                                                - h2Title_10:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Align: ='TextCanvas.Align'.Start
                                                      AlignInContainer: =AlignInContainer.Start
                                                      AutoHeight: =true
                                                      Height: =36
                                                      Size: =20
                                                      Text: =RoleName
                                                      Weight: ='TextCanvas.Weight'.Semibold
                                                      Width: =Parent.Width - Self.X * 2
                                                      X: =394.49
                                                - Label3_12:
                                                    Control: Label@2.5.1
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      AutoHeight: =true
                                                      BorderColor: =RGBA(0, 18, 107, 1)
                                                      Color: =ColorValue("#424242")
                                                      Font: =Font.'Segoe UI'
                                                      LineHeight: =1.4
                                                      PaddingBottom: =0
                                                      PaddingLeft: =0
                                                      PaddingRight: =0
                                                      PaddingTop: =0
                                                      Size: =Switch(App.ActiveScreen.Size,ScreenSize.Small,11,ScreenSize.Medium,12,14)*0.75
                                                      Text: ="Subtext"
                                                      VerticalAlign: =VerticalAlign.Top
                                                      Visible: =//!IsBlank(Self.Text)
                                                      Width: =Min(600, Parent.Width)
                                                      X: =394.49
                                                - rDivider_PageHeader_10:
                                                    Control: Rectangle@2.3.0
                                                    Properties:
                                                      Fill: =RGBA(0,0,0,0)
                                                      Height: =1
                                                      Width: =Parent.Width - Self.X * 2
                                                      X: =72
                                                      Y: =52
                                    - btnScanRole:
                                        Control: Button@0.0.44
                                        Properties:
                                          AccessibleLabel: =DVAssessmentPageLoc.scanRoleButtonText
                                          Align: =Align.Center
                                          AlignInContainer: =AlignInContainer.Center
                                          Appearance: ='ButtonCanvas.Appearance'.Subtle
                                          Icon: ="Send"
                                          OnSelect: |
                                            =UpdateContext(
                                                {
                                                    init: false,
                                                    showSpinnerForEditRolesColor: RGBA(
                                                        255,
                                                        255,
                                                        255,
                                                        0.7
                                                    ),
                                                    showSpinnerForEditRolesLabel: DVAssessmentPageLoc.pleaseWaitLoadingText
                                                }
                                            );
                                            Patch(
                                                'Risk Assessments',
                                                LookUp(
                                                    AllRiskAssessmentsFromDataverse,
                                                    'Risk Assessment' = AssessmentId
                                                ),
                                                {'Is Archived': 'Is Archived (Risk Assessments)'.Yes
                                                       /* 'Exception Flagged': 'Exception Flagged (Risk Assessments)'.No,
                                                        'Exception Reason': " ",
                                                        'Exception Approved By': Blank(),
                                                        'Exception Approved On': Blank(),
                                                        'Exception Flagged By': Blank(),
                                                        'Exception Flagged On': Blank()*/
                                            }
                                            );
                                            Set(
                                                newAssessment,
                                                Patch(
                                                    'Risk Assessments',
                                                    Defaults('Risk Assessments'),
                                                    {
                                                        'Is Archived': 'Is Archived (Risk Assessments)'.No,
                                                        'Security Role': currentSelectedSecurityRole,
                                                        'Risk Assessment Setting': LookUp(
                                                            'Risk Assessment Settings',
                                                            'Risk Assessment Setting' = selectedRoleRiskAssessmentProfileId
                                                        ),
                                                        'Status Reason': 'Status Reason (Risk Assessments)'.'In Progress'
                                                    }
                                                )
                                            );
                                            Refresh('Risk Assessments');
                                            UpdateContext(
                                                {
                                                    AssessmentId: newAssessment.'Risk Assessment',
                                                    currentSelectedAssesment: LookUp(
                                                        AllRiskAssessmentsFromDataverse,
                                                        'Risk Assessment' = newAssessment.'Risk Assessment'
                                                    ),
                                                    init: true,
                                                    showSpinnerForEditRolesColor: Blank(),
                                                    showSpinnerForEditRolesLabel: Blank()/*,
                                                    IsExcptionApproved: false,
                                                    isExceptionUpdatedOnDataverse: false*/
                                                }
                                            );
                                            Notify(
                                                DVAssessmentPageLoc.scanRoleNotificationText,
                                                NotificationType.Information,
                                                5000
                                            );
                                          Text: =DVAssessmentPageLoc.scanRoleButtonText
                                          Visible: =false
                                          Width: =120
                                    - tlbRight_12:
                                        Control: Toolbar@2.0.5
                                        Properties:
                                          AccessibleLabel: ="Toolbar"
                                          FillPortions: =0.2
                                          Height: =44
                                          Items: |-
                                            =Table(
                                                {
                                                    ItemKey: "refresh",
                                                    ItemDisplayName: "Refresh",
                                                    ItemIconName: "ArrowClockwise",
                                                    ItemAppearance: "Subtle",
                                                    ItemIconStyle: "Regular"
                                                },
                                                {
                                                    ItemKey: "scanrole",
                                                    ItemDisplayName: DVAssessmentPageLoc.scanRoleButtonText,
                                                    ItemIconName: "Send",
                                                    ItemDisabled: !isLoggedInUserSysAdmin,
                                                    ItemAppearance: "Subtle",
                                                    ItemIconStyle: "Regular",
                                                    ItemTooltip: "Scan role"
                                                }
                                            )
                                          OnSelect: |-
                                            =Switch(
                                                Self.Selected.ItemKey,
                                                /* Action for scanallroles */
                                                "scanrole",
                                                UpdateContext(
                                                    {
                                                        init: false,
                                                        showSpinnerForEditRolesColor: RGBA(
                                                            255,
                                                            255,
                                                            255,
                                                            0.7
                                                        ),
                                                        showSpinnerForEditRolesLabel: "Queuing scan...."
                                                    }
                                                );
                                                Patch(
                                                    'Risk Assessments',
                                                    LookUp(
                                                        'Risk Assessments',
                                                        'Risk Assessment' = First(latestAssessmentForaRole).'Risk Assessment'
                                                    ),
                                                    {'Is Archived': 'Is Archived (Risk Assessments)'.Yes}
                                                );
                                                Set(
                                                    newAssessment,
                                                    Patch(
                                                        'Risk Assessments',
                                                        Defaults('Risk Assessments'),
                                                        {
                                                            'Is Archived': 'Is Archived (Risk Assessments)'.No,
                                                            'Security Role': currentSelectedSecurityRole,
                                                            'Risk Assessment Setting': LookUp(
                                                                'Risk Assessment Settings',
                                                                'Risk Assessment Setting' = selectedRoleRiskAssessmentProfileId
                                                            ),
                                                            'Status Reason': 'Status Reason (Risk Assessments)'.'In Progress'
                                                        }
                                                    )
                                                );
                                                Clear(SelectedAssessmentRolePrivileges);
                                                Set(
                                                    currentAssessmentGUID,
                                                    newAssessment.'Risk Assessment'
                                                );
                                                Set(
                                                    currentAssessmentSettingGUID,
                                                    newAssessment.'Risk Assessment Setting'.'Risk Assessment Setting'
                                                );
                                                Refresh('Risk Assessments');
                                                UpdateContext(
                                                    {
                                                        AssessmentId: newAssessment.'Risk Assessment',
                                                        currentSelectedAssesment: LookUp(
                                                            'Risk Assessments',
                                                            'Risk Assessment' = newAssessment.'Risk Assessment'
                                                        ),
                                                        init: true,
                                                        showMessageBarForRoleUpdation: true,
                                                        makeDetailsListEditableForRoleUpdation: false,
                                                        showSpinnerForEditRolesColor: Blank(),
                                                        showSpinnerForEditRolesLabel: Blank()
                                                    }
                                                );
                                                Notify(
                                                    "Scan has started successfully. Please wait a few minutes for the scan to complete. Refresh the page to view the updated status once it's ready.",
                                                    NotificationType.Information,
                                                    5000
                                                );
                                                ,
                                                "refresh",
                                                Concurrent(
                                                    Refresh('Risk Assessment Settings'),
                                                    Refresh('Security Roles'),
                                                    Refresh('Risk Assessments'),
                                                    Refresh('Environment Variable Definitions'),
                                                    Refresh('Environment Variable Values'),
                                                    UpdateContext(
                                                        {
                                                            showPrvEditContainer: false,
                                                            ctxTableEvent: "ClearSelection" & Text(Rand()),
                                                            currentSelectedPrivilege: Blank()
                                                        }
                                                    );
                                                );
                                                UpdateContext(
                                                    {
                                                        init: false,
                                                        showSpinnerForEditRolesColor: RGBA(
                                                            255,
                                                            255,
                                                            255,
                                                            0.7
                                                        ),
                                                        showSpinnerForEditRolesLabel: DVAssessmentPageLoc.pleaseWaitLoadingText
                                                    }
                                                );
                                                UpdateContext(
                                                    {
                                                        currentSelectedAssesment: LookUp(
                                                            'Risk Assessments',
                                                            'Risk Assessment' = cmbRiskAssessmentHistory.Selected.AssessmentId
                                                        ),
                                                        showLoader: true,
                                                        showPane: false
                                                    }
                                                );
                                                Set(
                                                    currentAssessmentGUID,
                                                    currentSelectedAssesment.'Risk Assessment'
                                                );
                                                Set(
                                                    AssessmentId,
                                                    currentSelectedAssesment.'Risk Assessment'
                                                );
                                                ClearCollect(
                                                    currentRolePrivileges_temp,
                                                    SelectedAssessmentRolePrivileges
                                                );
                                                ClearCollect(
                                                    currentRolePrivilegesToBeDisplayed,
                                                    currentRolePrivileges_temp
                                                );
                                                If(
                                                    !IsBlank(AutoScanEnvVar) && AutoScanEnvVar.Value = "yes",
                                                    false,
                                                    Notify(
                                                        DVAssessmentPageLoc.privilegesUpdateWarningNotificationWhenAutoScanIsOff,
                                                        NotificationType.Warning,
                                                        5000
                                                    )
                                                );
                                                UpdateContext(
                                                    {
                                                        showLoader: false,
                                                        init: true,
                                                        showSpinnerForEditRolesColor: Blank(),
                                                        showSpinnerForEditRolesLabel: Blank()
                                                    }
                                                );
                                                ,
                                                /* Default action */
                                                false
                                            )
                                          Padding: ='Toolbar.Padding'.Large
                                          Width: =180//212
                                          X: =1020
                              - div_12:
                                  Control: Rectangle@2.3.0
                                  Properties:
                                    AlignInContainer: =AlignStart
                                    Fill: =ColorValue(AppTheme.palette.neutralLight)
                                    Height: =1
                                    Width: =Parent.Width - Self.X * 2
                                    X: =84
                                    Y: =256
                        - div_3:
                            Control: Rectangle@2.3.0
                            Properties:
                              Fill: =RGBA(0,0,0,0)
                              Height: =2
                              Width: =Parent.Width - Self.X * 2
                              X: =84
                              Y: =256
                        - Container5:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              DropShadow: =DropShadow.None
                              FillPortions: =FlexOff
                              Height: =cBuffer_8.Y //Max(cCard_14.Height, cSubgrid_1.Height) + 24
                              LayoutDirection: =LayoutDirection.Horizontal
                              LayoutGap: =16
                              LayoutWrap: =true
                              PaddingBottom: =16
                              PaddingLeft: =Min(16, Margins)
                              PaddingRight: =Self.PaddingLeft
                              PaddingTop: =16
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                            Children:
                              - cCard_14:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    AlignInContainer: =AlignInContainer.Start
                                    Fill: =RGBA(255, 255, 255, 1)
                                    FillPortions: =FlexOff
                                    Height: =rCardDivider_6.Y //Parent.Height - Self.X * 2
                                    LayoutDirection: =LayoutDirection.Vertical
                                    LayoutGap: =8
                                    PaddingBottom: =16
                                    PaddingLeft: =16
                                    PaddingRight: =16
                                    PaddingTop: =16
                                    RadiusBottomLeft: =8
                                    RadiusBottomRight: =8
                                    RadiusTopLeft: =8
                                    RadiusTopRight: =8
                                    Width: =If(App.ActiveScreen.Size <= ScreenSize.Medium, Parent.Width - Self.X * 2, 320)
                                    X: =92
                                    Y: =-18
                                  Children:
                                    - cCardTitle_1:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          DropShadow: =DropShadow.None
                                          FillPortions: =0
                                          Height: =32
                                          LayoutAlignItems: =LayoutAlignItems.Center
                                          LayoutDirection: =LayoutDirection.Horizontal
                                          LayoutGap: =8
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Width: =Parent.Width
                                          X: =1-1
                                          Y: =1-1
                                        Children:
                                          - TextCanvas1_7:
                                              Control: Text@0.0.50
                                              Properties:
                                                FillPortions: =FlexOn
                                                Height: =24
                                                Size: =16
                                                Text: =If(IsBlankOrError(cardTitle),"Assessment details",cardTitle)
                                                VerticalAlign: =VerticalAlign.Middle
                                                Weight: ='TextCanvas.Weight'.Semibold
                                                Wrap: =false
                                          - InfoButtonCanvas1_7:
                                              Control: InfoButton@0.0.31
                                              Properties:
                                                AccessibleLabel: ="InfoButton"
                                                Content: ="Meet compliance by updating the security role privileges to the recommended access levels. You can update privileges individually. If thereâ€™s a good reason for having a higher privilege level than recommended, flag the role as an exception."//Need LOC
                                                Height: =28
                                                Width: =24
                                    - cCardSection_6:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          AlignInContainer: =AlignStretch
                                          DropShadow: =DropShadow.None
                                          FillPortions: =FlexOff
                                          Height: =rCardDivider_8.Y//220
                                          LayoutDirection: =LayoutDirection.Vertical
                                          LayoutGap: =12
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Width: =288
                                          Y: =-4
                                        Children:
                                          - cmbRiskAssessmentHistory:
                                              Control: ComboBox@0.0.49
                                              Properties:
                                                AccessibleLabel: ="ComboboxRiskAssessmentHistory"
                                                Appearance: ='ComboboxCanvas.Appearance'.FilledLighter
                                                BorderColor: =RGBA(209, 209, 209, 1)
                                                BorderStyle: =BorderStyle.Solid
                                                BorderThickness: =1
                                                DefaultSelectedItems: |-
                                                  =FirstN(
                                                      riskAssessmentHistory,
                                                      1
                                                  )
                                                FontWeight: =FontWeight.Normal
                                                IsSearchable: =false
                                                Items: =riskAssessmentHistory
                                                OnChange: "=Set(\n    varPageNumber,\n    1\n);\nUpdateContext({selectedRoleRiskAssessmentProfileId: cmbRiskAssessmentHistory.Selected.AssessmentSettingId});\nSet(\n    currentAssessmentGUID,\n    cmbRiskAssessmentHistory.Selected.AssessmentId\n);\nSet(\n    AssessmentId,\n    cmbRiskAssessmentHistory.Selected.AssessmentId\n);\nSelect(btnRefresh_PrivilegesListScreen);\nReset(ddFilter_3);\nIf(\n    cmbRiskAssessmentHistory.Selected.AssessmentId <> First(latestAssessmentForaRole).'Risk Assessment',\n    UpdateContext(\n        {\n            showMessageBarForPaneScreen: true,\n            makeDetailsListEditableForRoleUpdation: false,\n            showMessageBarForRoleUpdation: false,\n            isArchivedAssessmentSelected: true\n        }\n    );\n    ,\n    UpdateContext(\n        {\n            showBaseLineSettingsMessageBar:false,\n            showMessageBarForPaneScreen: false,\n            makeDetailsListEditableForRoleUpdation: true,\n            showMessageBarForRoleUpdation: false,\n            isArchivedAssessmentSelected: false\n        }\n    );\n    \n);\n"
                                                TriggerOutput: ='ComboboxCanvas.TriggerOutput'.Keypress
                                                Width: =Parent.Width
                                              Children:
                                                - AssessmentDate1:
                                                    Control: ComboBoxDataField@1.5.0
                                                    Variant: textualColumn
                                                    IsLocked: true
                                                    Properties:
                                                      FieldDisplayName: ="AssessmentDate"
                                                      FieldName: ="AssessmentDate"
                                                      FieldType: ="s"
                                                      Order: =1
                                                - AssessmentId1:
                                                    Control: ComboBoxDataField@1.5.0
                                                    Variant: textualColumn
                                                    IsLocked: true
                                                    Properties:
                                                      FieldDisplayName: ="AssessmentId"
                                                      FieldName: ="AssessmentId"
                                                      FieldType: ="g"
                                                      Order: =2
                                                - IsLatest1:
                                                    Control: ComboBoxDataField@1.5.0
                                                    Variant: textualColumn
                                                    IsLocked: true
                                                    Properties:
                                                      FieldDisplayName: ="IsLatest"
                                                      FieldName: ="IsLatest"
                                                      FieldType: ="b"
                                                      Order: =3
                                          - AssessmentSeverityContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                BorderColor: =
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =80
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutGap: =8
                                                PaddingBottom: =12
                                                PaddingTop: =12
                                                RadiusBottomLeft: =0
                                                RadiusBottomRight: =0
                                                RadiusTopLeft: =0
                                                RadiusTopRight: =0
                                              Children:
                                                - Container7:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Center
                                                      Fill: |-
                                                        =Switch(
                                                            txtRoleSeverity.Text,
                                                            /* Action for Key 'new' */
                                                            "Critical",
                                                            RGBA(
                                                                216,
                                                                58,
                                                                0,
                                                                1
                                                            ),
                                                            /* Action for 'edit' */
                                                            "High",
                                                            RGBA(
                                                                255,
                                                                147,
                                                                73,
                                                                1
                                                            ),
                                                            "Moderate",
                                                            RGBA(
                                                                255,
                                                                186,
                                                                1,
                                                                1
                                                            ),
                                                            "Low",
                                                            RGBA(
                                                                2,
                                                                157,
                                                                204,
                                                                1
                                                            ),
                                                            "No Risk",
                                                            RGBA(
                                                                24,
                                                                171,
                                                                88,
                                                                1
                                                            ),
                                                            RGBA(255,255,255,1)
                                                        )
                                                      FillPortions: =0
                                                      Height: =56
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      Width: =4
                                                - RiskContainer:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      BorderColor: =
                                                      BorderStyle: =BorderStyle.None
                                                      DropShadow: =DropShadow.None
                                                      FillPortions: =0
                                                      Height: =Parent.Height-12
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      RadiusBottomLeft: =0
                                                      RadiusBottomRight: =0
                                                      RadiusTopLeft: =0
                                                      RadiusTopRight: =0
                                                      Width: =Parent.Width-Container7.Width-10
                                                    Children:
                                                      - txtRoleSeverity:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                            Height: =LookUp(_typeramp,name="Title2").lineHeight
                                                            PaddingBottom: =0
                                                            PaddingLeft: =0
                                                            PaddingRight: =0
                                                            PaddingTop: =0
                                                            Size: =LookUp(_typeramp,name="Title2").fontSize
                                                            Text: |-
                                                              =If(
                                                                  CountRows(
                                                                      Filter(
                                                                          currentRolePrivileges_temp,
                                                                          NewSeverity = Text('Assessed Risk Level (Risk Assessments)'.Critical)
                                                                      )
                                                                  ) > 0,
                                                                  "Critical",
                                                                  If(
                                                                      CountRows(
                                                                          Filter(
                                                                              currentRolePrivileges_temp,
                                                                              NewSeverity = Text('Assessed Risk Level (Risk Assessments)'.High)
                                                                          )
                                                                      ) > 0,
                                                                      "High",
                                                                      If(
                                                                          CountRows(
                                                                              Filter(
                                                                                  currentRolePrivileges_temp,
                                                                                  NewSeverity = Text('Assessed Risk Level (Risk Assessments)'.Moderate)
                                                                              )
                                                                          ) > 0,
                                                                          "Moderate",
                                                                          If(
                                                                              CountRows(
                                                                                  Filter(
                                                                                      currentRolePrivileges_temp,
                                                                                      NewSeverity = Text('Assessed Risk Level (Risk Assessments)'.Low)
                                                                                  )
                                                                              ) > 0,
                                                                              "Low",
                                                                              "No Risk"
                                                                          )
                                                                      )
                                                                  )
                                                              )
                                                            Weight: =LookUp(_typeramp,name="Title2").fontWeight
                                                            Width: =250
                                                            Wrap: =false
                                                            X: =7
                                                            Y: =464
                                                      - txtCaption1_2:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                            Height: =LookUp(_typeramp,name="Caption1").lineHeight
                                                            PaddingBottom: =0
                                                            PaddingLeft: =0
                                                            PaddingRight: =0
                                                            PaddingTop: =0
                                                            Size: =LookUp(_typeramp,name="Caption1").fontSize
                                                            Text: ="At least one privilege is rated as a " & txtRoleSeverity.Text &" risk"
                                                            Weight: =LookUp(_typeramp,name="Caption1").fontWeight
                                                            Width: =250
                                                            Wrap: =false
                                                            X: =7
                                                            Y: =94
                                          - PrivilegesComplianceInfo:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                BorderColor: =RGBA(255, 255, 255, 1)
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                Fill: =RGBA(255, 255, 255, 1)
                                                FillPortions: =0
                                                Height: =If(PaneListScreen.Size=1,100,86)//80
                                                LayoutAlignItems: =LayoutAlignItems.Center
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutGap: =2
                                                LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                                                RadiusBottomLeft: =0
                                                RadiusBottomRight: =0
                                                RadiusTopLeft: =0
                                                RadiusTopRight: =0
                                                Width: =Parent.Width
                                              Children:
                                                - PrivilegesNonComplianceInfo:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.SetByContainer
                                                      DropShadow: =DropShadow.None
                                                      FillPortions: =0
                                                      Height: =Parent.Height
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      PaddingLeft: =5
                                                      Width: =Parent.Width-TotalCustomRolesInfoContainer_1.Width
                                                    Children:
                                                      - PrivilegesWithRisk:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            Font: =Font.'Segoe UI'
                                                            Height: =50
                                                            Size: =32
                                                            Text: |-
                                                              =CountRows(
                                                                  Filter(
                                                                      currentRolePrivileges_temp,
                                                                      NewSeverity <> Text('Assessed Risk Level (Risk Assessments)'.'No Risk')
                                                                  )
                                                              )
                                                            Weight: ='TextCanvas.Weight'.Semibold
                                                      - txtPrivilegesWithRisk:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            Align: ='TextCanvas.Align'.Start
                                                            Font: =Font.'Segoe UI'
                                                            FontColor: =RGBA(66, 66, 66, 1)
                                                            Height: =If(PaneListScreen.Size=1,45,30)
                                                            Text: ="Privileges with risk"//DVAssessmentPageLoc.riskAssessmentsNonCompliant// Need LOC
                                                            VerticalAlign: =VerticalAlign.Middle
                                                            Weight: ='TextCanvas.Weight'.Regular
                                                            Width: =Parent.Width-20
                                                - TotalCustomRolesInfoContainer_1:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.SetByContainer
                                                      BorderColor: =RGBA(255, 255, 255, 1)
                                                      BorderStyle: =BorderStyle.None
                                                      DropShadow: =DropShadow.None
                                                      FillPortions: =0
                                                      Height: =Parent.Height
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      Width: =If(PaneListScreen.Size=1,90,100)
                                                    Children:
                                                      - TotalCustomRolesCountText_1:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            Align: ='TextCanvas.Align'.Start
                                                            Font: =Font.'Segoe UI'
                                                            Height: =50
                                                            Size: =32
                                                            Text: =CountRows(currentRolePrivileges_temp)
                                                            Weight: ='TextCanvas.Weight'.Semibold
                                                            Width: =Parent.Width
                                                      - TotalRolesText_1:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            Align: ='TextCanvas.Align'.Start
                                                            Font: =Font.'Segoe UI'
                                                            FontColor: =RGBA(66, 66, 66, 1)
                                                            Height: =If(PaneListScreen.Size=1,45,30)
                                                            Text: =DVAssessmentPageLoc.totalPrivilegesText
                                                            VerticalAlign: =VerticalAlign.Middle
                                                            Weight: ='TextCanvas.Weight'.Regular
                                                            Width: =Parent.Width
                                          - RoleDetailsContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                BorderColor: =
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =txtDetails.Height+Container8.Height
                                                LayoutDirection: =LayoutDirection.Vertical
                                                LayoutGap: =8
                                                RadiusBottomLeft: =0
                                                RadiusBottomRight: =0
                                                RadiusTopLeft: =0
                                                RadiusTopRight: =0
                                              Children:
                                                - txtDetails:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                      Height: =LookUp(_typeramp,name="Body1Strong").lineHeight
                                                      PaddingBottom: =0
                                                      PaddingLeft: =0
                                                      PaddingRight: =0
                                                      PaddingTop: =0
                                                      Size: =LookUp(_typeramp,name="Body1Strong").fontSize
                                                      Text: =DVAssessmentPageLoc.detailsColumn
                                                      Weight: =LookUp(_typeramp,name="Body1Strong").fontWeight
                                                      Width: =250
                                                      Wrap: =false
                                                      X: =7
                                                      Y: =223
                                                - Container8:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      BorderColor: =
                                                      BorderStyle: =BorderStyle.None
                                                      DropShadow: =DropShadow.None
                                                      FillPortions: =0
                                                      Height: =100
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      LayoutGap: =8
                                                      RadiusBottomLeft: =0
                                                      RadiusBottomRight: =0
                                                      RadiusTopLeft: =0
                                                      RadiusTopRight: =0
                                                      Width: =Parent.Width
                                                    Children:
                                                      - Container10:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: AutoLayout
                                                          Properties:
                                                            BorderColor: =
                                                            DropShadow: =DropShadow.None
                                                            FillPortions: =0
                                                            Height: =20
                                                            LayoutDirection: =LayoutDirection.Horizontal
                                                          Children:
                                                            - txtCaption1_3:
                                                                Control: Text@0.0.50
                                                                Properties:
                                                                  Font: =Font.'Segoe UI'
                                                                  FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                                  Height: =LookUp(_typeramp,name="Caption1").lineHeight
                                                                  PaddingBottom: =0
                                                                  PaddingLeft: =0
                                                                  PaddingRight: =0
                                                                  PaddingTop: =0
                                                                  Size: =LookUp(_typeramp,name="Caption1").fontSize
                                                                  Text: ="Business unit"
                                                                  Weight: =LookUp(_typeramp,name="Caption1").fontWeight
                                                                  Width: =80
                                                                  Wrap: =false
                                                                  X: =7
                                                                  Y: =94
                                                            - txtCaption1Strong_2:
                                                                Control: Text@0.0.50
                                                                Properties:
                                                                  Align: ='TextCanvas.Align'.End
                                                                  FillPortions: =1
                                                                  Font: =Font.'Segoe UI'
                                                                  FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                                  Height: =LookUp(_typeramp,name="Caption1Strong").lineHeight
                                                                  PaddingBottom: =0
                                                                  PaddingLeft: =0
                                                                  PaddingRight: =0
                                                                  PaddingTop: =0
                                                                  Size: =LookUp(_typeramp,name="Caption1Strong").fontSize
                                                                  Text: =currentSelectedSecurityRole.'Business Unit'.Name
                                                                  Weight: =LookUp(_typeramp,name="Caption1Strong").fontWeight
                                                                  Width: =250
                                                                  Wrap: =false
                                                                  X: =7
                                                                  Y: =122
                                                      - Container10_1:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: AutoLayout
                                                          Properties:
                                                            BorderColor: =
                                                            BorderStyle: =BorderStyle.None
                                                            DropShadow: =DropShadow.None
                                                            FillPortions: =0
                                                            Height: =20
                                                            LayoutDirection: =LayoutDirection.Horizontal
                                                            RadiusBottomLeft: =0
                                                            RadiusBottomRight: =0
                                                            RadiusTopLeft: =0
                                                            RadiusTopRight: =0
                                                          Children:
                                                            - txtCaption1_4:
                                                                Control: Text@0.0.50
                                                                Properties:
                                                                  Font: =Font.'Segoe UI'
                                                                  FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                                  Height: =LookUp(_typeramp,name="Caption1").lineHeight
                                                                  PaddingBottom: =0
                                                                  PaddingLeft: =0
                                                                  PaddingRight: =0
                                                                  PaddingTop: =0
                                                                  Size: =LookUp(_typeramp,name="Caption1").fontSize
                                                                  Text: ="Modified on"
                                                                  Weight: =LookUp(_typeramp,name="Caption1").fontWeight
                                                                  Width: =80
                                                                  Wrap: =false
                                                                  X: =7
                                                                  Y: =94
                                                            - txtCaption1Strong_3:
                                                                Control: Text@0.0.50
                                                                Properties:
                                                                  Align: ='TextCanvas.Align'.End
                                                                  FillPortions: =1
                                                                  Font: =Font.'Segoe UI'
                                                                  FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                                  Height: =LookUp(_typeramp,name="Caption1Strong").lineHeight
                                                                  PaddingBottom: =0
                                                                  PaddingLeft: =0
                                                                  PaddingRight: =0
                                                                  PaddingTop: =0
                                                                  Size: =LookUp(_typeramp,name="Caption1Strong").fontSize
                                                                  Text: =Text(currentSelectedSecurityRole.'Modified On',"dd mmmm yyyy") & " by " & currentSelectedSecurityRole.'Modified By'.'Full Name'
                                                                  Weight: =LookUp(_typeramp,name="Caption1Strong").fontWeight
                                                                  Width: =250
                                                                  Wrap: =false
                                                                  X: =7
                                                                  Y: =122
                                                      - Container10_2:
                                                          Control: GroupContainer@1.3.0
                                                          Variant: AutoLayout
                                                          Properties:
                                                            AlignInContainer: =AlignInContainer.Start
                                                            BorderColor: =
                                                            BorderStyle: =BorderStyle.None
                                                            DropShadow: =DropShadow.None
                                                            FillPortions: =0
                                                            Height: =20
                                                            LayoutAlignItems: =LayoutAlignItems.Center
                                                            LayoutDirection: =LayoutDirection.Horizontal
                                                            LayoutJustifyContent: =LayoutJustifyContent.SpaceBetween
                                                            RadiusBottomLeft: =0
                                                            RadiusBottomRight: =0
                                                            RadiusTopLeft: =0
                                                            RadiusTopRight: =0
                                                            Width: =Parent.Width
                                                          Children:
                                                            - txtCaption1_5:
                                                                Control: Text@0.0.50
                                                                Properties:
                                                                  Font: =Font.'Segoe UI'
                                                                  FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                                  Height: =LookUp(_typeramp,name="Caption1").lineHeight
                                                                  PaddingBottom: =0
                                                                  PaddingLeft: =0
                                                                  PaddingRight: =0
                                                                  PaddingTop: =0
                                                                  Size: =LookUp(_typeramp,name="Caption1").fontSize
                                                                  Text: ="Created"
                                                                  Weight: =LookUp(_typeramp,name="Caption1").fontWeight
                                                                  Width: =80
                                                                  Wrap: =false
                                                                  X: =7
                                                                  Y: =94
                                                            - txtCaption1Strong_4:
                                                                Control: Text@0.0.50
                                                                Properties:
                                                                  Align: ='TextCanvas.Align'.End
                                                                  FillPortions: =1
                                                                  Font: =Font.'Segoe UI'
                                                                  FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                                  Height: =LookUp(_typeramp,name="Caption1Strong").lineHeight
                                                                  PaddingBottom: =0
                                                                  PaddingLeft: =0
                                                                  PaddingRight: =0
                                                                  PaddingTop: =0
                                                                  Size: =LookUp(_typeramp,name="Caption1Strong").fontSize
                                                                  Text: =Text(currentSelectedSecurityRole.'Created On',"dd mmmm yyyy") & " by " & currentSelectedSecurityRole.'Created By'.'Full Name'
                                                                  Weight: =LookUp(_typeramp,name="Caption1Strong").fontWeight
                                                                  Width: =250
                                                                  Wrap: =false
                                                                  X: =7
                                                                  Y: =122
                                          - Container9:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =rCardDivider_11.Y
                                                LayoutDirection: =LayoutDirection.Vertical
                                                LayoutGap: =8
                                                RadiusBottomLeft: =0
                                                RadiusBottomRight: =0
                                                RadiusTopLeft: =0
                                                RadiusTopRight: =0
                                              Children:
                                                - Container17:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      BorderStyle: =BorderStyle.None
                                                      DropShadow: =DropShadow.None
                                                      FillPortions: =0
                                                      Height: =28
                                                      LayoutDirection: =LayoutDirection.Horizontal
                                                      RadiusBottomLeft: =0
                                                      RadiusBottomRight: =0
                                                      RadiusTopLeft: =0
                                                      RadiusTopRight: =0
                                                    Children:
                                                      - txtBaseline:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                            Height: =LookUp(_typeramp,name="Body1").lineHeight
                                                            PaddingBottom: =0
                                                            PaddingLeft: =0
                                                            PaddingRight: =0
                                                            PaddingTop: =0
                                                            Size: =LookUp(_typeramp,name="Body1").fontSize
                                                            Text: ="Baseline"
                                                            VerticalAlign: =VerticalAlign.Middle
                                                            Weight: =LookUp(_typeramp,name="Body1").fontWeight
                                                            Width: =60
                                                            Wrap: =false
                                                            X: =7
                                                            Y: =188
                                                      - txtBody1_2:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            FontColor: =RGBA(177, 14, 28, 1)
                                                            Height: =LookUp(_typeramp,name="Body1").lineHeight
                                                            PaddingBottom: =0
                                                            PaddingLeft: =0
                                                            PaddingRight: =0
                                                            PaddingTop: =0
                                                            Size: =LookUp(_typeramp,name="Body1").fontSize
                                                            Text: ="*"
                                                            Weight: =LookUp(_typeramp,name="Body1").fontWeight
                                                            Width: =10
                                                            Wrap: =false
                                                            X: =7
                                                            Y: =188
                                                      - InfoButton_Baseline:
                                                          Control: InfoButton@0.0.31
                                                          Properties:
                                                            AccessibleLabel: ="InfoButton"
                                                            AlignInContainer: =AlignInContainer.Start
                                                            Content: ="Meet compliance by updating the security role privileges to the recommended access levels. You can update privileges individually. If thereâ€™s a good reason for having a higher privilege level than recommended, flag the role as an exception."//Need LOC
                                                            Height: =26
                                                            Width: =24
                                                - CmbBaselineSettingsList:
                                                    Control: ComboBox@0.0.49
                                                    Properties:
                                                      AccessibleLabel: ="ComboboxBaseLineSettings"
                                                      AlignInContainer: =AlignInContainer.End
                                                      Appearance: ='ComboboxCanvas.Appearance'.FilledLighter
                                                      BorderColor: =RGBA(209, 209, 209, 1)
                                                      BorderStyle: =BorderStyle.Solid
                                                      BorderThickness: =1
                                                      DefaultSelectedItems: |-
                                                        =LookUp(
                                                            'Risk Assessment Settings',
                                                            'Risk Assessment Setting' = selectedRoleRiskAssessmentProfileId
                                                        )
                                                      DisplayMode: '=If(isLoggedInUserSysAdmin && cmbRiskAssessmentHistory.Selected.AssessmentId = First(riskAssessmentHistory).AssessmentId , DisplayMode.Edit,DisplayMode.Disabled) '
                                                      Items: =Filter('Risk Assessment Settings',Status='Status (Risk Assessment Settings)'.Active)
                                                      OnChange: |-
                                                        =UpdateContext(
                                                            {
                                                                selectedRoleRiskAssessmentProfileId: LookUp(
                                                                    AllRiskAssessmentsSettings,
                                                                    'Risk Assessment Setting' = CmbBaselineSettingsList.Selected.'Risk Assessment Setting'
                                                                ).'Risk Assessment Setting'
                                                            }
                                                        );
                                                        If(
                                                            selectedRoleRiskAssessmentProfileId <> currentSelectedAssesment.'Risk Assessment Setting'.'Risk Assessment Setting',
                                                            UpdateContext({isRiskAssessmentProfileChanged: true}),
                                                            UpdateContext({isRiskAssessmentProfileChanged: false})
                                                        )
                                                      Width: =Parent.Width
                                                    Children:
                                                      - Risk Assessment Setting1:
                                                          Control: ComboBoxDataField@1.5.0
                                                          Variant: textualColumn
                                                          IsLocked: true
                                                          Properties:
                                                            FieldDisplayName: ="Risk Assessment Setting"
                                                            FieldName: ="cat_riskassessmentsettingid"
                                                            FieldType: ="g"
                                                            Order: =2
                                                      - Name1:
                                                          Control: ComboBoxDataField@1.5.0
                                                          Variant: textualColumn
                                                          IsLocked: true
                                                          Properties:
                                                            FieldDisplayName: ="Name"
                                                            FieldName: ="cat_name"
                                                            FieldType: ="s"
                                                            Order: =1
                                                - txtCaption1_1:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Align: ='TextCanvas.Align'.Start
                                                      AlignInContainer: =AlignInContainer.Stretch
                                                      FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                      Height: =36//LookUp(_typeramp,name="Caption1").lineHeight
                                                      PaddingBottom: =0
                                                      PaddingLeft: =0
                                                      PaddingRight: =0
                                                      PaddingTop: =0
                                                      Size: =LookUp(_typeramp,name="Caption1").fontSize
                                                      Text: ="Updating the profile will render the latest risk assessment as stale."
                                                      Visible: =true///isRiskAssessmentProfileChanged
                                                      Weight: =LookUp(_typeramp,name="Caption1").fontWeight
                                                      Width: =250
                                                      X: =7
                                                      Y: =94
                                                - btnSave:
                                                    Control: Button@0.0.44
                                                    Properties:
                                                      AccessibleLabel: =DVAssessmentPageLoc.saveButtonText
                                                      Appearance: ='ButtonCanvas.Appearance'.Secondary
                                                      BorderColor: =RGBA(209, 209, 209, 1)
                                                      BorderThickness: =1
                                                      DisplayMode: |-
                                                        =If(
                                                            IsBlank(CmbBaselineSettingsList.Selected.'Risk Assessment Setting'),
                                                            DisplayMode.Disabled,
                                                            If(
                                                                isRiskAssessmentProfileChanged,
                                                                DisplayMode.Edit,
                                                                DisplayMode.Disabled
                                                            )
                                                        )
                                                      Icon: ="Save"
                                                      OnSelect: "=UpdateContext(\n    {\n        init: false,\n        showSpinnerForEditRolesColor: RGBA(\n            255,\n            255,\n            255,\n            0.7\n        ),\n        showSpinnerForEditRolesLabel: \"Saving....\"\n    }\n);\nIf(\n    !IsBlank(AutoScanEnvVar) && AutoScanEnvVar.Value = \"yes\",\n    Patch(\n        'Risk Assessments',\n        currentSelectedAssesment,\n        {\n            'Is Archived': 'Is Archived (Risk Assessments)'.Yes,\n            Status: 'Status (Risk Assessments)'.Inactive,\n            'Status Reason': 'Status Reason (Risk Assessments)'.Stale\n        }\n    );\n    Set(\n        newAssessment,\n        Patch(\n            'Risk Assessments',\n            Defaults('Risk Assessments'),\n            {\n                'Is Archived': 'Is Archived (Risk Assessments)'.No,\n                'Security Role': currentSelectedSecurityRole,\n                'Risk Assessment Setting': LookUp(\n                    'Risk Assessment Settings',\n                    'Risk Assessment Setting' = selectedRoleRiskAssessmentProfileId\n                ),\n                'Status Reason': 'Status Reason (Risk Assessments)'.'In Progress'\n            }\n        )\n    );\n    Clear(SelectedAssessmentRolePrivileges);\n    Set(\n        currentAssessmentGUID,\n        newAssessment.'Risk Assessment'\n    );\n    Set(\n        currentAssessmentSettingGUID,\n        newAssessment.'Risk Assessment Setting'.'Risk Assessment Setting'\n    );\n    Refresh('Risk Assessments');\n    UpdateContext(\n        {\n            AssessmentId: newAssessment.'Risk Assessment',\n            currentSelectedAssesment: LookUp(\n                'Risk Assessments',\n                'Risk Assessment' = newAssessment.'Risk Assessment'\n            ),\n            makeDetailsListEditableForRoleUpdation: false\n        }\n    );\n    UpdateContext(\n        {\n            showBaseLineSettingsMessageBar: true,\n            isRiskAssessmentProfileChanged: false,\n            baseLinseSettingsMessageBarBody: \"Wait for assessment to complete and refresh this page.\",\n            baseLinseSettingsMessageBarButtonName: \"Refresh\"\n        }\n    );\n    Notify(\n        \"Scan has started successfully. Please wait a few minutes for the scan to complete. Refresh the page to view the updated status once it's ready.\",\n        NotificationType.Information,\n        5000\n    );\n    ,\n    Patch(\n        'Risk Assessments',\n        currentSelectedAssesment,\n        {\n            Status: 'Status (Risk Assessments)'.Inactive,\n            'Status Reason': 'Status Reason (Risk Assessments)'.Stale\n        }\n    );\n    UpdateContext(\n        {\n            isRiskAssessmentProfileChanged: false,\n            showBaseLineSettingsMessageBar: true,\n            baseLinseSettingsMessageBarBody: \"Re-scan to get latest results.\",\n            baseLinseSettingsMessageBarButtonName: \"Re-scan\"\n        }\n    );\n    \n);\nUpdateContext(\n    {\n        init: true,\n        showSpinnerForEditRolesColor: Blank(),\n        showSpinnerForEditRolesLabel: Blank()\n    }\n);\n"
                                                      Text: ="Save"
                                                - rCardDivider_11:
                                                    Control: Rectangle@2.3.0
                                                    Properties:
                                                      Fill: =RGBA(0,0,0,0)
                                                      Height: =1
                                                      Width: =Parent.Width - Self.X*2
                                                      X: =72
                                                      Y: =52
                                          - rCardDivider_8:
                                              Control: Rectangle@2.3.0
                                              Properties:
                                                Fill: =RGBA(0,0,0,0)
                                                Height: =1
                                                Width: =Parent.Width - Self.X*2
                                                X: =72
                                                Y: =52
                                    - rCardDivider_6:
                                        Control: Rectangle@2.3.0
                                        Properties:
                                          Fill: =RGBA(0,0,0,0)
                                          Height: =1
                                          Width: =Parent.Width - Self.X*2
                                          X: =72
                                          Y: =52
                              - cSubgrid_1:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    AlignInContainer: =AlignInContainer.Start
                                    DropShadow: =DropShadow.Semilight
                                    Fill: =RGBA(255, 255, 255, 1)
                                    FillPortions: =FlexOn
                                    Height: =Max(div_13.Y, 120)
                                    LayoutAlignItems: =LayoutAlignItems.Stretch
                                    LayoutDirection: =LayoutDirection.Vertical
                                    LayoutGap: '=0   '
                                    LayoutMinWidth: =600
                                    PaddingTop: =
                                    RadiusBottomLeft: =8
                                    RadiusBottomRight: =8
                                    RadiusTopLeft: =8
                                    RadiusTopRight: =8
                                    Width: =Parent.Width - Self.X * 2
                                  Children:
                                    - cListToolbar_8:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Start
                                          DropShadow: =DropShadow.None
                                          Fill: =ColorValue(AppTheme.palette.neutralLighter) //RGBA(0, 0, 0, 0)
                                          FillPortions: =0
                                          Height: =48
                                          LayoutAlignItems: =LayoutAlignItems.Center
                                          LayoutDirection: =LayoutDirection.Horizontal
                                          LayoutGap: =8
                                          PaddingLeft: =16
                                          PaddingRight: =16
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Width: =Parent.Width
                                        Children:
                                          - btnRefresh_PrivilegesListScreen:
                                              Control: Button@0.0.44
                                              Properties:
                                                AccessibleLabel: =DVAssessmentPageLoc.refresh
                                                Align: =Align.Left
                                                AlignInContainer: =AlignInContainer.Center
                                                Appearance: ='ButtonCanvas.Appearance'.Transparent
                                                FillPortions: =1
                                                Icon: ="ArrowClockwise"
                                                OnSelect: |
                                                  =UpdateContext({showLoader: true});
                                                  UpdateContext(
                                                      {
                                                          currentSelectedAssesment: LookUp(
                                                              'Risk Assessments',
                                                              'Risk Assessment' = cmbRiskAssessmentHistory.Selected.AssessmentId
                                                          ),
                                                          showPane: false
                                                      }
                                                  );
                                                  /*Set(
                                                      currentAssessmentGUID,
                                                      currentSelectedAssesment.'Risk Assessment'
                                                  );
                                                  Set(
                                                      AssessmentId,
                                                      currentSelectedAssesment.'Risk Assessment'
                                                  );*/
                                                  Concurrent(
                                                      Refresh('Risk Assessments'),
                                                      Refresh('Risk Assessment Settings'),
                                                      Refresh('Security Roles'),
                                                      Refresh('Environment Variable Definitions'),
                                                      Refresh('Environment Variable Values')
                                                  );
                                                  UpdateContext(
                                                      {
                                                          showPrvEditContainer: false,
                                                          ctxTableEvent: "ClearSelection" & Text(Rand()),
                                                          currentSelectedPrivilege: Blank()
                                                      }
                                                  );
                                                  Set(
                                                      varPageNumber,
                                                      1
                                                  );
                                                  If(
                                                      !IsBlank(AutoScanEnvVar) && AutoScanEnvVar.Value = "yes",
                                                      false,
                                                      Notify(
                                                          DVAssessmentPageLoc.privilegesUpdateWarningNotificationWhenAutoScanIsOff,
                                                          NotificationType.Warning,
                                                          5000
                                                      )
                                                  );
                                                  UpdateContext(
                                                      {
                                                          showSpinnerForEditRolesColor: Blank(),
                                                          showSpinnerForEditRolesLabel: Blank()
                                                      }
                                                  );
                                                  ClearCollect(
                                                      currentRolePrivileges_temp,
                                                      SelectedAssessmentRolePrivileges
                                                  );
                                                  ClearCollect(
                                                      currentRolePrivilegesToBeDisplayed,
                                                      currentRolePrivileges_temp
                                                  );
                                                  UpdateContext({showLoader: false});
                                                Text: =DVAssessmentPageLoc.refresh
                                                VerticalAlign: =
                                                Visible: =false
                                          - Toolbar1_7:
                                              Control: Toolbar@2.0.5
                                              Properties:
                                                AccessibleLabel: ="Toolbar"
                                                FillPortions: =FlexOn
                                                Height: =44
                                                Items: |-
                                                  =Table(
                                                      {
                                                          ItemKey: "refresh",
                                                          ItemDisplayName: "Refresh",
                                                          ItemIconName: "ArrowClockwise",
                                                          ItemAppearance: "Subtle",
                                                          ItemIconStyle: "Regular"
                                                      }
                                                  )
                                                LayoutMinWidth: =100
                                                OnSelect: |
                                                  =UpdateContext(
                                                      {
                                                          showSpinnerForEditRolesColor: RGBA(
                                                              255,
                                                              255,
                                                              255,
                                                              0.7
                                                          ),
                                                          showSpinnerForEditRolesLabel: DVAssessmentPageLoc.pleaseWaitLoadingText
                                                      }
                                                  );
                                                  Switch(
                                                      Self.Selected.ItemKey,
                                                      "refresh",
                                                      UpdateContext(
                                                          {
                                                              currentSelectedAssesment: LookUp(
                                                                  AllRiskAssessmentsFromDataverse,
                                                                  'Risk Assessment' = cmbRiskAssessmentHistory.Selected.AssessmentId
                                                              ),
                                                              showLoader: true,
                                                              showPane:false
                                                          }
                                                      );
                                                      Set(
                                                          currentAssessmentGUID,
                                                          currentSelectedAssesment.'Risk Assessment'
                                                      );
                                                      Set(
                                                          AssessmentId,
                                                          currentSelectedAssesment.'Risk Assessment'
                                                      );
                                                      Concurrent(
                                                          Refresh('Risk Assessment Settings'),
                                                          Refresh('Security Roles'),
                                                          Refresh('Risk Assessments'),
                                                          Refresh('Environment Variable Definitions'),
                                                          Refresh('Environment Variable Values'),
                                                          UpdateContext(
                                                              {
                                                                  showPrvEditContainer: false,
                                                                  ctxTableEvent: "ClearSelection" & Text(Rand()),
                                                                  currentSelectedPrivilege: Blank()
                                                              }
                                                          );
                                                      );
                                                      /*Set(
                                                          autoScanEnvironmentVariableCurrentValue,
                                                          LookUp(
                                                              'Environment Variable Values',
                                                              'Environment Variable Definition'.'Schema Name' = "msdyn_DVAcceleratorAutoScan"
                                                          )
                                                      );*/
                                                  ClearCollect(
                                                          currentRolePrivileges_temp,
                                                          SelectedAssessmentRolePrivileges
                                                      );
                                                      ClearCollect(
                                                          currentRolePrivilegesToBeDisplayed,
                                                          currentRolePrivileges_temp
                                                      );
                                                      // UpdateContext(
                                                  //   {
                                                  /*IsExcptionApproved: If(
                                                              currentSelectedAssesment.'Exception Flagged' = 'Exception Flagged (Risk Assessments)'.Yes && currentSelectedAssesment.'Status Reason' = 'Status Reason (Risk Assessments)'.Compliant,
                                                              true,
                                                              false
                                                          ),
                                                          isExceptionUpdatedOnDataverse: If(
                                                              currentSelectedAssesment.'Status Reason' = 'Status Reason (Risk Assessments)'.Exception,
                                                              true,
                                                              false
                                                          ), */
                                                  /*  isFlagExceptionChanged: false,
                                                              isExceptionReasonChanged: false,
                                                              isRiskAssessmentProfileChanged: false,
                                                              revBy: currentSelectedAssesment.'Exception Approved By'.'Full Name',
                                                              revByInitial: Left(
                                                                  currentSelectedAssesment.'Exception Approved By'.'Full Name',
                                                                  1
                                                              ) & Mid(
                                                                  currentSelectedAssesment.'Exception Approved By'.'Full Name',
                                                                  Find(
                                                                      " ",
                                                                      currentSelectedAssesment.'Exception Approved By'.'Full Name'
                                                                  ) + 1,
                                                                  1
                                                              ),
                                                              lblExceptionFlaggedBy: currentSelectedAssesment.'Exception Flagged By'.'Full Name',
                                                              lblExceptionFlaggedByIntials: Left(
                                                                  currentSelectedAssesment.'Exception Flagged By'.'Full Name',
                                                                  1
                                                              ) & Mid(
                                                                  currentSelectedAssesment.'Exception Flagged By'.'Full Name',
                                                                  Find(
                                                                      " ",
                                                                      currentSelectedAssesment.'Exception Flagged By'.'Full Name'
                                                                  ) + 1,
                                                                  1
                                                              )*/
                                                  // }
                                                  // );
                                                  If(
                                                          !IsBlank(AutoScanEnvVar) && AutoScanEnvVar.Value = "yes",
                                                          false,
                                                          Notify(
                                                              DVAssessmentPageLoc.privilegesUpdateWarningNotificationWhenAutoScanIsOff,
                                                              NotificationType.Warning,
                                                              5000
                                                          )
                                                      );
                                                      UpdateContext({showLoader: false});
                                                      ,

                                                      /* Default action */
                                                      Notify("Unrecognized button clicked")
                                                  );
                                                  UpdateContext(
                                                      {
                                                          showSpinnerForEditRolesColor: Blank(),
                                                          showSpinnerForEditRolesLabel: Blank()
                                                      }
                                                  );
                                                Visible: =false
                                                Width: =301
                                                X: =25
                                              Children:
                                                - ItemKey6:
                                                    Control: ToolbarDataField@1.5.0
                                                    Variant: textualColumn
                                                    IsLocked: true
                                                    Properties:
                                                      FieldDisplayName: ="ItemKey"
                                                      FieldName: ="ItemKey"
                                                      FieldType: ="s"
                                                      Order: =1
                                          - Container9_11:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                DropShadow: =DropShadow.None
                                                FillPortions: =FlexOn+1
                                                Height: =40
                                                LayoutAlignItems: =LayoutAlignItems.Center
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutGap: =8
                                                LayoutJustifyContent: =LayoutJustifyContent.End
                                                LayoutMinHeight: =32
                                                PaddingLeft: =2
                                                PaddingRight: =2
                                                RadiusBottomLeft: =0
                                                RadiusBottomRight: =0
                                                RadiusTopLeft: =0
                                                RadiusTopRight: =0
                                              Children:
                                                - TextCanvas5_9:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Align: ='TextCanvas.Align'.End
                                                      PaddingRight: =8
                                                      Text: |-
                                                        =With({c: TotalPrivilegesOfaSelectedRole},$"{ c } {If(c = 1, "item", "items")}")
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Weight: ='TextCanvas.Weight'.Semibold
                                                - Icon1_9:
                                                    Control: Classic/Icon@2.5.0
                                                    Properties:
                                                      AccessibleLabel: ="Search"
                                                      BorderColor: =RGBA(0, 0, 0, 0)
                                                      Color: =RGBA(0, 120, 212, 1)
                                                      DisabledColor: =RGBA(220, 220, 220, 1)
                                                      DisabledFill: =RGBA(0, 0, 0, 0)
                                                      Height: =32
                                                      HoverBorderColor: =RGBA(0, 0, 0, 0)
                                                      HoverColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                                                      HoverFill: =RGBA(0, 0, 0, 0)
                                                      Icon: =If(showSearch, Icon.Cancel, Icon.Search)
                                                      OnSelect: |-
                                                        =UpdateContext({showSearch: !showSearch})
                                                      PaddingBottom: =8
                                                      PaddingLeft: =8
                                                      PaddingRight: =8
                                                      PaddingTop: =8
                                                      PressedBorderColor: =RGBA(0, 0, 0, 0)
                                                      PressedColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                                                      PressedFill: =RGBA(0, 0, 0, 0)
                                                      TabIndex: =0
                                                      Visible: =App.ActiveScreen.Size <= ScreenSize.Small
                                                      Width: =32
                                                - ddFilter_3:
                                                    Control: DropDown@0.0.44
                                                    Properties:
                                                      AccessibleLabel: ="SeverityDropdown"
                                                      DefaultSelectedItems: =If(IsBlankOrError(dropDownStatusForEditRoles.ItemKey),First(AssessmentSeverity),dropDownStatusForEditRoles)
                                                      Items: =AssessmentSeverity
                                                      OnChange: "=Set(\r\n    dropDownStatusForEditRoles,\r\n    Self.Selected\r\n);\r\nIf(\r\n    Self.Selected.ItemValue = DVAssessmentPageLoc.allStatusValue,\r\n    ClearCollect(\r\n        currentRolePrivilegesToBeDisplayed,\r\n        currentRolePrivileges_temp\r\n    ),\r\n    ClearCollect(\r\n        currentRolePrivilegesToBeDisplayed,\r\n        Filter(\r\n           currentRolePrivileges_temp,// currentRolePrivileges,\r\n            NewSeverity = dropDownStatusForEditRoles.ItemValue\r\n        )\r\n    );\r\n    \r\n)"
                                                      Width: =94
                                                      X: =294
                                                    Children:
                                                      - ItemValue4:
                                                          Control: DropDownDataField@1.5.0
                                                          Variant: textualColumn
                                                          IsLocked: true
                                                          Properties:
                                                            FieldDisplayName: ="ItemValue"
                                                            FieldName: ="ItemValue"
                                                            FieldType: ="s"
                                                            Order: =1
                                                      - ItemKey4:
                                                          Control: DropDownDataField@1.5.0
                                                          Variant: textualColumn
                                                          IsLocked: true
                                                          Properties:
                                                            FieldDisplayName: ="ItemKey"
                                                            FieldName: ="ItemKey"
                                                            FieldType: ="n"
                                                            Order: =2
                                                - cSearchTeams_3:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.SetByContainer
                                                      BorderColor: =ColorValue(AppTheme.palette.neutralQuaternary)
                                                      BorderStyle: =BorderStyle.None
                                                      FillPortions: =0
                                                      Height: =32
                                                      LayoutAlignItems: =LayoutAlignItems.Center
                                                      LayoutDirection: =LayoutDirection.Horizontal
                                                      Visible: =App.ActiveScreen.Size > ScreenSize.Small || showSearch
                                                      Width: =200
                                                    Children:
                                                      - txtSearch_2:
                                                          Control: TextInput@0.0.53
                                                          Properties:
                                                            AccessibleLabel: ="SearchPrivileges"
                                                            Appearance: ='TextInputCanvas.Appearance'.FilledLighter
                                                            FillPortions: =1
                                                            LayoutMinWidth: =100
                                                            Placeholder: ="Search"
                                                            TriggerOutput: ='TextInputCanvas.TriggerOutput'.Keypress
                                    - Spinner1_8:
                                        Control: Spinner@1.4.6
                                        Properties:
                                          AccessibleLabel: ="Spinner"
                                          SpinnerSize: ='Spinner.SpinnerSize'.Small
                                          Visible: =showLoader
                                    - cEmptyState_4:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Center
                                          DropShadow: =DropShadow.None
                                          FillPortions: =0
                                          Height: =314
                                          LayoutAlignItems: =LayoutAlignItems.Center
                                          LayoutDirection: =LayoutDirection.Vertical
                                          LayoutGap: =8
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Visible: =IsEmpty(RolePrvilegesWithRowNumber)
                                          Width: =333
                                          X: =469
                                          Y: =93
                                        Children:
                                          - Image3_6:
                                              Control: Image@2.2.3
                                              Properties:
                                                BorderColor: =RGBA(0, 0, 0, 0)
                                                BorderStyle: =BorderStyle.None
                                                BorderThickness: =2
                                                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                                DisabledFill: =RGBA(0, 0, 0, 0)
                                                HoverBorderColor: =RGBA(0, 0, 0, 0)
                                                HoverFill: =RGBA(0, 0, 0, 0)
                                                Image: ='Empty states'
                                                PressedBorderColor: =RGBA(0, 0, 0, 0)
                                                PressedFill: =RGBA(0, 0, 0, 0)
                                          - txtSubtitle1_EmptyState_5:
                                              Control: Text@0.0.50
                                              Properties:
                                                Align: ='TextCanvas.Align'.Center
                                                AlignInContainer: =AlignInContainer.Center
                                                FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                Height: =36
                                                PaddingBottom: =0
                                                PaddingLeft: =0
                                                PaddingRight: =0
                                                PaddingTop: =0
                                                Size: =20
                                                Text: ="No privileges"
                                                Weight: ='TextCanvas.Weight'.Semibold
                                                Width: =250
                                                Wrap: =false
                                                X: =40
                                                Y: =193
                                          - lblBody1_EmptyState_5:
                                              Control: FluentV8/Label@1.8.6
                                              Properties:
                                                AlignInContainer: =AlignInContainer.Center
                                                Alignment: =Align.Center
                                                AutoHeight: =true
                                                Color: =ColorValue(AppTheme.palette.neutralPrimaryAlt)
                                                FontWeight: =FontWeight.Normal
                                                Height: =12
                                                Text: ="Try adjusting the filters or refining with simpler keywords for a broader search."
                                                VerticalAlignment: =VerticalAlign.Middle
                                                X: =320
                                                Y: =197
                                          - Container9_5:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.Start
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =44
                                                LayoutAlignItems: =LayoutAlignItems.Center
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutGap: =8
                                                LayoutJustifyContent: =LayoutJustifyContent.Center
                                                RadiusBottomLeft: =0
                                                RadiusBottomRight: =0
                                                RadiusTopLeft: =0
                                                RadiusTopRight: =0
                                                Visible: =false
                                                Width: =Parent.Width
                                              Children:
                                                - btnEmptyActionPrimary_4:
                                                    Control: Button@0.0.44
                                                    Properties:
                                                      AccessibleLabel: ="Action"
                                                      Appearance: ='ButtonCanvas.Appearance'.Secondary
                                                      OnSelect: "=//UpdateContext({ searchText: \"\" }); "
                                                      Text: ="Action"
                                                      Width: =132
                                                      X: =542
                                    - PaginationContainer:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          BorderStyle: =BorderStyle.None
                                          DropShadow: =DropShadow.None
                                          Fill: =RGBA(255, 255, 255, 1)
                                          FillPortions: =FlexOff
                                          Height: =44
                                          LayoutAlignItems: =LayoutAlignItems.Center
                                          LayoutDirection: =LayoutDirection.Horizontal
                                          LayoutGap: =4
                                          PaddingBottom: =20
                                          PaddingLeft: =16
                                          PaddingRight: =16
                                          PaddingTop: =20
                                          Visible: =!!(TotalPrivilegesOfaSelectedRole)
                                        Children:
                                          - prevEndIcon:
                                              Control: CodeComponent
                                              ComponentName: cat_PowerCAT.Icon
                                              Properties:
                                                BorderRadius: =4
                                                DisplayMode: |-
                                                  =If(
                                                      varPageNumber=1,
                                                      DisplayMode.Disabled,
                                                      DisplayMode.Edit
                                                  )
                                                Height: =32
                                                IconName: ="ChevronLeftEnd6"
                                                IconSize: =11
                                                OnChange: =Set(varPageNumber,1);UpdateContext({ctxGridEvent:"LoadNextPageSetFocusOnRow" & Text(Rand())});
                                                Theme: =AppThemeNeutralJson
                                                Tooltip: ="Go to the first page"//PluginMonitorLoc.firstPageTxt
                                                Width: =32
                                          - prevIcon:
                                              Control: CodeComponent
                                              ComponentName: cat_PowerCAT.Icon
                                              Properties:
                                                BorderRadius: =4
                                                DisplayMode: |-
                                                  =If(
                                                      varPageNumber=1,
                                                      DisplayMode.Disabled,
                                                      DisplayMode.Edit
                                                  )
                                                Height: =32
                                                IconName: ="ChevronLeftmed"
                                                IconSize: =11
                                                OnChange: =Set(varPageNumber,varPageNumber-1);UpdateContext({ctxGridEvent:"LoadNextPageSetFocusOnRow" & Text(Rand())});
                                                Theme: =AppThemeNeutralJson
                                                Tooltip: ="Previous page"
                                                Width: =32
                                          - page_1:
                                              Control: Text@0.0.50
                                              Properties:
                                                Align: ='TextCanvas.Align'.Center
                                                FontColor: =ColorValue(AppTheme.palette.neutralSecondary)
                                                Text: |-
                                                  ="Page " & varPageNumber & " of " & If(
                                                      Mod(
                                                         TotalPrivilegesOfaSelectedRole,
                                                          100
                                                      ) = 0,
                                                      RoundUp(
                                                          IfError( TotalPrivilegesOfaSelectedRole/ PageNumber.Selected.Value,""),
                                                          0
                                                      ) & "", //"+ Pages",
                                                      RoundUp(
                                                           IfError( TotalPrivilegesOfaSelectedRole / PageNumber.Selected.Value,""),
                                                          0
                                                      )// & " Pages"
                                                  )
                                                VerticalAlign: =VerticalAlign.Middle
                                                Width: =120
                                          - nextIcon:
                                              Control: CodeComponent
                                              ComponentName: cat_PowerCAT.Icon
                                              Properties:
                                                BorderRadius: =4
                                                DisplayMode: |-
                                                  =If(
                                                      PageNumber.Selected.Value * varPageNumber < Value(TotalPrivilegesOfaSelectedRole),
                                                      DisplayMode.Edit,
                                                      DisplayMode.Disabled
                                                  )
                                                Height: =32
                                                IconName: ="ChevronRightmed"
                                                IconSize: =11
                                                OnChange: |
                                                  =Set(
                                                      varPageNumber,
                                                      varPageNumber + 1
                                                  );
                                                  UpdateContext({ctxGridEvent: "LoadNextPageSetFocusOnRow" & Text(Rand())});
                                                Theme: =AppThemeNeutralJson
                                                Tooltip: ="Next page"//PluginMonitorLoc.nextPageTxt
                                                Width: =32
                                          - nextEndIcon:
                                              Control: CodeComponent
                                              ComponentName: cat_PowerCAT.Icon
                                              Properties:
                                                BorderRadius: =4
                                                DisplayMode: |-
                                                  =If(
                                                      PageNumber.Selected.Value*varPageNumber<Value( TotalPrivilegesOfaSelectedRole),
                                                      DisplayMode.Edit,
                                                      DisplayMode.Disabled
                                                  )
                                                Height: =32
                                                IconName: ="ChevronrightEnd6"
                                                IconSize: =11
                                                OnChange: |
                                                  =Set(
                                                      varPageNumber,
                                                      RoundUp(
                                                          Value(TotalPrivilegesOfaSelectedRole) / PageNumber.Selected.Value,
                                                          0
                                                      )
                                                  );
                                                  UpdateContext({ctxGridEvent: "LoadNextPageSetFocusOnRow" & Text(Rand())});
                                                Theme: =AppThemeNeutralJson
                                                Tooltip: ="Go to last page"//PluginMonitorLoc.lastPageTxt
                                                Width: =32
                                          - Container2:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.SetByContainer
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                Height: =44
                                                LayoutAlignItems: =LayoutAlignItems.Center
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutGap: =8
                                                LayoutJustifyContent: =LayoutJustifyContent.End
                                              Children:
                                                - HiddenLbl:
                                                    Control: FluentV8/Label@1.8.6
                                                    Properties:
                                                      Text: =TotalPrivilegesOfaSelectedRole//& " | " & TotalCount
                                                      Visible: =false
                                                - page:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Align: ='TextCanvas.Align'.Center
                                                      FontColor: =ColorValue(AppTheme.palette.neutralSecondary)
                                                      Text: ="Page size"//PluginMonitorLoc.pageSize
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Width: =60
                                                - PageNumber:
                                                    Control: DropDown@0.0.44
                                                    Properties:
                                                      AccessibleLabel: ="Pagenumber"
                                                      DefaultSelectedItems: =["15"]
                                                      Items: =["5","10","15","20","25","30"]
                                                      OnChange: =Set(varPageNumber,1);
                                                      Width: =70
                                                    Children:
                                                      - Value1:
                                                          Control: DropDownDataField@1.5.0
                                                          Variant: textualColumn
                                                          IsLocked: true
                                                          Properties:
                                                            FieldDisplayName: ="Value"
                                                            FieldName: ="Value"
                                                            FieldType: ="s"
                                                            Order: =1
                                    - div_13:
                                        Control: Rectangle@2.3.0
                                        Properties:
                                          AlignInContainer: =AlignStart
                                          Fill: =RGBA(0,0,0,0)
                                          Height: =2
                                          Width: =Parent.Width - Self.X * 2
                                          X: =84
                                          Y: =256
                              - cBuffer_8:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    LayoutDirection: =LayoutDirection.Vertical
                                    LayoutMinHeight: =10
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =Parent.Width
                  - cPane_0:
                      Control: GroupContainer@1.3.0
                      Variant: AutoLayout
                      Properties:
                        Fill: =ColorValue(AppTheme.palette.white)
                        FillPortions: =If(btnBack.Visible,FlexOn,FlexOff)
                        Height: =Parent.Height
                        LayoutDirection: =LayoutDirection.Vertical
                        PaddingBottom: =16
                        PaddingLeft: =16
                        PaddingRight: =16
                        PaddingTop: =16
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Visible: =showPane <> false && CountRows(PrivilegesList.SelectedItems)>0
                        Width: =450//490//320
                      Children:
                        - Container6:
                            Control: GroupContainer@1.3.0
                            Variant: AutoLayout
                            Properties:
                              AlignInContainer: =AlignInContainer.Start
                              BorderColor: =
                              BorderStyle: =BorderStyle.None
                              DropShadow: =DropShadow.None
                              LayoutDirection: =LayoutDirection.Vertical
                              RadiusBottomLeft: =0
                              RadiusBottomRight: =0
                              RadiusTopLeft: =0
                              RadiusTopRight: =0
                              Width: =Parent.Width-20
                            Children:
                              - SelectedPrivTitleContainer:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =0
                                    Height: =32//If(PaneListScreen.Size=1,100,80)//32
                                    LayoutAlignItems: =LayoutAlignItems.Center
                                    LayoutDirection: =LayoutDirection.Horizontal
                                    LayoutGap: =8
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =Parent.Width
                                    X: =1-1
                                    Y: =1-1
                                  Children:
                                    - Container4:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Start
                                          BorderColor: =
                                          BorderStyle: =BorderStyle.None
                                          DropShadow: =DropShadow.None
                                          FillPortions: =0
                                          Height: =If(PaneListScreen.Size=1,80,32)
                                          LayoutDirection: =LayoutDirection.Horizontal
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Width: =If(PaneListScreen.Size=1,150,(Parent.Width/2)+20)
                                        Children:
                                          - btnBack:
                                              Control: Button@0.0.44
                                              Properties:
                                                AccessibleLabel: =DVAssessmentPageLoc.back
                                                Appearance: ='ButtonCanvas.Appearance'.Subtle
                                                Icon: ="ArrowLeft"
                                                OnSelect: |
                                                  =UpdateContext(
                                                      {
                                                          hidePanelBackButton: true,
                                                          showPane: false,
                                                          ctxTableEvent: "ClearSelection" & Text(Rand())
                                                      }
                                                  );
                                                Text: =
                                                Visible: =!hidePanelBackButton
                                                Width: =32
                                          - txtSelectedPrivilegeName:
                                              Control: Text@0.0.50
                                              Properties:
                                                FillPortions: =FlexOff
                                                Font: =Font.'Segoe UI'
                                                Height: =28
                                                PaddingTop: =2
                                                Size: =16
                                                Text: =currentSelectedPrivilege.RolePrivilegeName
                                                VerticalAlign: =VerticalAlign.Middle
                                                Weight: ='TextCanvas.Weight'.Semibold
                                                Width: =If(PaneListScreen.Size=1,150,(Parent.Width))
                                                Wrap: =false
                                    - Container7_1:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Start
                                          BorderColor: =RGBA(255, 255, 255, 1)
                                          BorderStyle: =BorderStyle.None
                                          DropShadow: =DropShadow.None
                                          FillPortions: =0
                                          Height: =If(PaneListScreen.Size=1,80,32)
                                          LayoutAlignItems: =LayoutAlignItems.Center
                                          LayoutDirection: =LayoutDirection.Horizontal
                                          LayoutJustifyContent: =LayoutJustifyContent.End
                                          LayoutMinWidth: =200
                                          Width: =Parent.Width-Container4.Width-10
                                        Children:
                                          - CurrentPrivilegeContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.SetByContainer
                                                BorderColor: =RGBA(255, 255, 255, 1)
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =30//If(EditPrivilegeScreen.Size=1,30,40)
                                                LayoutAlignItems: =LayoutAlignItems.Center
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutJustifyContent: =LayoutJustifyContent.Center
                                                LayoutMinWidth: =100
                                                Width: =100
                                              Children:
                                                - SelectedPrvRowNumber:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Align: ='TextCanvas.Align'.Center
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =RGBA(82, 82, 82, 1)
                                                      Text: |-
                                                        =//nextRowNumberLabel
                                                        currentSelectedPrivilege.RowNumber
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Weight: ='TextCanvas.Weight'.Regular
                                                      Width: =40
                                                - OfText:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Align: ='TextCanvas.Align'.Center
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =RGBA(82, 82, 82, 1)
                                                      Text: =Lower(DVAssessmentPageLoc.ofText)
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Width: =20
                                                - TotalPriviliegesCountText:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Align: ='TextCanvas.Align'.Center
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =RGBA(82, 82, 82, 1)
                                                      Text: =TotalPrivilegesOfaSelectedRole//CountRows(currentRolePrivileges)
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Width: =40
                                          - PaneButtonsContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.SetByContainer
                                                BorderColor: =RGBA(255, 255, 255, 1)
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =30
                                                LayoutAlignItems: =LayoutAlignItems.Center
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutGap: =3
                                                LayoutJustifyContent: =LayoutJustifyContent.Center
                                                LayoutMinWidth: =100
                                                Width: =90
                                              Children:
                                                - btnPreviousPrivilege:
                                                    Control: Button@0.0.44
                                                    Properties:
                                                      AccessibleLabel: ="Previous privilege"
                                                      Appearance: ='ButtonCanvas.Appearance'.Subtle
                                                      DisplayMode: =If(currentSelectedPrivilege.RowNumber=1,DisplayMode.Disabled,DisplayMode.Edit)
                                                      Icon: ="ArrowUp"
                                                      OnSelect: |
                                                        =If(
                                                            Mod(
                                                                currentSelectedPrivilege.RowNumber,
                                                                PageNumber.Selected.Value
                                                            ) = 1,
                                                            Set(
                                                                varPageNumber,
                                                                varPageNumber - 1
                                                            );
                                                            UpdateContext({ctxGridEvent: "LoadNextPageSetFocusOnRow" & Text(Rand())}),
                                                            false
                                                        );
                                                        /*UpdateContext(
                                                            {
                                                                currentPrevRec: LookUp(
                                                                    Privileges,
                                                                    Name = LookUp(
                                                                        RolePrvilegesWithRowNumber,
                                                                        RowNumber = SelectedPrvRowNumber.Text - 1
                                                                    ).privilegeName
                                                                )
                                                            }
                                                        ); */
                                                        UpdateContext(
                                                            {
                                                                selectedRows: Filter(
                                                                    currentRolePrivileges_temp,
                                                                    RecordSelected = true
                                                                )
                                                            }
                                                        );
                                                        If(
                                                            CountRows(selectedRows) > 0,
                                                            ForAll(
                                                                selectedRows,
                                                                Patch(
                                                                    currentRolePrivileges_temp,
                                                                    ThisRecord,
                                                                    {RecordSelected: false}
                                                                );
                                                            );
                                                            ,
                                                            false
                                                        );
                                                        Patch(
                                                            currentRolePrivileges_temp,
                                                            LookUp(
                                                                currentRolePrivileges_temp,
                                                                RolePrivilegeName = LookUp(
                                                                    RolePrvilegesWithRowNumber,
                                                                    RowNumber = SelectedPrvRowNumber.Text - 1
                                                                ).RolePrivilegeName
                                                            ),
                                                            {RecordSelected: true}
                                                        );
                                                        ClearCollect(
                                                            currentRolePrivilegesToBeDisplayed,
                                                            currentRolePrivileges_temp
                                                        );
                                                        UpdateContext(
                                                            {
                                                                currentSelectedLevel: currentSelectedPrivilege.level,
                                                                ctxTableEvent: "SetSelection" & Text(Rand())
                                                            }
                                                        );
                                                      Text: =
                                                      Width: =32
                                                - btnNextPrivilege:
                                                    Control: Button@0.0.44
                                                    Properties:
                                                      AccessibleLabel: ="Next privilege"
                                                      Appearance: ='ButtonCanvas.Appearance'.Subtle
                                                      DisplayMode: |-
                                                        =If(
                                                            currentSelectedPrivilege.RowNumber = TotalPrivilegesOfaSelectedRole,
                                                            DisplayMode.Disabled,
                                                            DisplayMode.Edit
                                                        )
                                                      Icon: ="ArrowDown"
                                                      OnSelect: |
                                                        =
                                                        If(
                                                            Mod(
                                                                currentSelectedPrivilege.RowNumber,
                                                                PageNumber.Selected.Value
                                                            ) = 0,
                                                            Set(
                                                                varPageNumber,
                                                                varPageNumber + 1
                                                            );
                                                            UpdateContext({ctxGridEvent: "LoadNextPageSetFocusOnRow" & Text(Rand())}),
                                                            false
                                                        );
                                                        /*UpdateContext(
                                                            {
                                                                currentNextRec: LookUp(
                                                                    Privileges,
                                                                    Name = LookUp(
                                                                        RolePrvilegesWithRowNumber,// currentRolePrivileges,
                                                                        RowNumber = SelectedPrvRowNumber.Text + 1
                                                                    ).privilegeName
                                                                )
                                                            }
                                                        ); */
                                                        UpdateContext(
                                                            {
                                                                selectedRows: Filter(
                                                                    currentRolePrivileges_temp,
                                                                    RecordSelected = true
                                                                )
                                                            }
                                                        );
                                                        If(
                                                            CountRows(selectedRows) > 0,
                                                            ForAll(
                                                                selectedRows,
                                                                Patch(
                                                                    currentRolePrivileges_temp,
                                                                    ThisRecord,
                                                                    {RecordSelected: false}
                                                                );
                                                            );
                                                            ,
                                                            false
                                                        );
                                                        Patch(
                                                            currentRolePrivileges_temp,
                                                            LookUp(
                                                                currentRolePrivileges_temp,
                                                                RolePrivilegeName = LookUp(
                                                                    RolePrvilegesWithRowNumber,
                                                                    RowNumber = SelectedPrvRowNumber.Text + 1
                                                                ).RolePrivilegeName
                                                            ),
                                                            {RecordSelected: true}
                                                        );
                                                        ClearCollect(
                                                            currentRolePrivilegesToBeDisplayed,
                                                            currentRolePrivileges_temp
                                                        );
                                                        UpdateContext(
                                                            {
                                                                currentSelectedLevel: currentSelectedPrivilege.level,
                                                                ctxTableEvent: "SetSelection" & Text(Rand())
                                                            }
                                                        );
                                                      Text: =
                                                      Width: =32
                                                - btnClosePane:
                                                    Control: Button@0.0.44
                                                    Properties:
                                                      AccessibleLabel: ="Close"
                                                      Appearance: ='ButtonCanvas.Appearance'.Subtle
                                                      Icon: ="Dismiss"
                                                      OnSelect: |
                                                        =UpdateContext(
                                                            {
                                                                selectedRows: Filter(
                                                                    currentRolePrivileges_temp,
                                                                    RecordSelected = true
                                                                )
                                                            }
                                                        );
                                                        If(
                                                            CountRows(selectedRows) > 0,
                                                            ForAll(
                                                                selectedRows,
                                                                Patch(
                                                                    currentRolePrivileges_temp,
                                                                    ThisRecord,
                                                                    {RecordSelected: false}
                                                                );
                                                            );
                                                            ClearCollect(currentRolePrivilegesToBeDisplayed,currentRolePrivileges_temp);
                                                            ,
                                                            false
                                                        );

                                                        UpdateContext(
                                                            {
                                                                showPrvEditContainer: false,
                                                               ctxTableEvent: "ClearSelection" & Text(Rand()),
                                                               currentSelectedPrivilege:Blank(),
                                                               makeDetailsListEditableForRoleUpdation:true,showPane:false
                                                            }
                                                        );
                                                        If(
                                                            !hidePanelBackButton,
                                                            UpdateContext({hidePanelBackButton: true}),
                                                            true
                                                        );
                                                      Text: =
                                                      Width: =32
                              - Container3:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    BorderColor: =
                                    BorderStyle: =BorderStyle.None
                                    DropShadow: =DropShadow.None
                                    LayoutDirection: =LayoutDirection.Vertical
                                    LayoutOverflowY: =LayoutOverflow.Scroll
                                    PaddingLeft: =6
                                    PaddingRight: =6
                                    PaddingTop: =12
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                  Children:
                                    - SelectedPrivInfoContainer:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Start
                                          BorderColor: =RGBA(209, 209, 209, 1)
                                          BorderThickness: =1
                                          DropShadow: =DropShadow.None
                                          Fill: =RGBA(0, 0, 0, 0.01)
                                          FillPortions: =0
                                          Height: =div_23.Y//If(!hidePanelBackButton,200,160)//160
                                          LayoutAlignItems: =LayoutAlignItems.Stretch
                                          LayoutDirection: =LayoutDirection.Vertical
                                          LayoutGap: =12
                                          LayoutMinHeight: =200
                                          PaddingLeft: =5
                                          PaddingTop: =10
                                          Visible: |-
                                            =//If(prvSeverityLabel="No Risk",false,true)
                                            If(
                                                currentSelectedPrivilege.NewSeverity = Text('Assessed Risk Level (Risk Assessments)'.'No Risk'),//"No Risk",
                                                false,
                                                true
                                            )
                                          Width: =Parent.Width-20
                                        Children:
                                          - PrivInfoContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.Start
                                                DropShadow: =DropShadow.None
                                                Fill: =RGBA(255, 255, 255, 1)
                                                FillPortions: =0
                                                Height: =div_24.Y
                                                LayoutAlignItems: =LayoutAlignItems.Center
                                                LayoutDirection: =LayoutDirection.Horizontal
                                                LayoutGap: =8
                                                LayoutMinWidth: =450
                                                LayoutWrap: =true
                                                PaddingLeft: =12
                                                Width: =Parent.Width-20
                                              Children:
                                                - Image4:
                                                    Control: Image@2.2.3
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Center
                                                      BorderColor: =RGBA(0, 0, 0, 0)
                                                      BorderStyle: =BorderStyle.None
                                                      BorderThickness: =2
                                                      DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                                      DisabledFill: =RGBA(0, 0, 0, 0)
                                                      Height: =32
                                                      HoverBorderColor: =RGBA(0, 0, 0, 0)
                                                      HoverFill: =RGBA(0, 0, 0, 0)
                                                      Image: =If(currentSelectedPrivilege.NewSeverity="Critical",CriticalSeverityWarning,HighSeverityWarning)
                                                      PressedBorderColor: =RGBA(0, 0, 0, 0)
                                                      PressedFill: =RGBA(0, 0, 0, 0)
                                                      Width: =32
                                                - LightBulbInfoIcon:
                                                    Control: Classic/Icon@2.5.0
                                                    Properties:
                                                      BorderColor: =RGBA(0, 0, 0, 0)
                                                      Color: =RGBA(0, 0, 0, 1)
                                                      DisabledColor: =RGBA(220, 220, 220, 1)
                                                      DisabledFill: =RGBA(0, 0, 0, 0)
                                                      Height: =24
                                                      HoverBorderColor: =RGBA(0, 0, 0, 0)
                                                      HoverColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                                                      HoverFill: =RGBA(0, 0, 0, 0)
                                                      Icon: =Icon.Lightbulb
                                                      PaddingBottom: =3
                                                      PaddingLeft: =3
                                                      PaddingRight: =3
                                                      PaddingTop: =3
                                                      PressedBorderColor: =RGBA(0, 0, 0, 0)
                                                      PressedColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                                                      PressedFill: =RGBA(0, 0, 0, 0)
                                                      Visible: =false
                                                      Width: =24
                                                - Container27:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      BorderColor: =
                                                      BorderStyle: =BorderStyle.None
                                                      DropShadow: =DropShadow.None
                                                      Height: =rCardDivider_12.Y
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      LayoutJustifyContent: =LayoutJustifyContent.Center
                                                      RadiusBottomLeft: =0
                                                      RadiusBottomRight: =0
                                                      RadiusTopLeft: =0
                                                      RadiusTopRight: =0
                                                    Children:
                                                      - PrivInfoLabel:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            Font: =Font.'Segoe UI'
                                                            FontColor: =RGBA(36, 36, 36, 1)
                                                            Height: =24
                                                            Text: =currentSelectedPrivilege.NewSeverity & " risk"//DVAssessmentPageLoc.reduceRiskLevelHeaderText
                                                            VerticalAlign: =VerticalAlign.Middle
                                                            Weight: ='TextCanvas.Weight'.Bold
                                                            Width: =150
                                                      - txtCaption1_6:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                            Height: =LookUp(_typeramp,name="Caption1").lineHeight
                                                            PaddingBottom: =0
                                                            PaddingLeft: =0
                                                            PaddingRight: =0
                                                            PaddingTop: =0
                                                            Size: =LookUp(_typeramp,name="Caption1").fontSize
                                                            Text: =If(currentSelectedPrivilege.PrivilegeComplianceStatus="Not allowed","Remove privilege","Reduce privileges")
                                                            Weight: =LookUp(_typeramp,name="Caption1").fontWeight
                                                            Width: =250
                                                            Wrap: =false
                                                            X: =7
                                                            Y: =94
                                                      - rCardDivider_12:
                                                          Control: Rectangle@2.3.0
                                                          Properties:
                                                            AccessibleLabel: ="buffer"
                                                            Fill: =RGBA(0,0,0,0)
                                                            Height: =1
                                                            Width: =Parent.Width - Self.X*2
                                                            X: =72
                                                            Y: =52
                                                - div_24:
                                                    Control: Rectangle@2.3.0
                                                    Properties:
                                                      AccessibleLabel: ="buffer"
                                                      Fill: =RGBA(0,0,0,0)
                                                      Height: =2
                                                      Width: =Parent.Width - Self.X * 2
                                                      X: =84
                                                      Y: =256
                                          - PrivDescContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.SetByContainer
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =PrivDescTextCanvas.Height+10//If(!hidePanelBackButton,140,100)//100
                                                LayoutAlignItems: =LayoutAlignItems.Stretch
                                                LayoutDirection: =LayoutDirection.Vertical
                                                LayoutMinHeight: =80
                                                LayoutMinWidth: =190
                                                LayoutWrap: =true
                                                PaddingLeft: =20
                                                PaddingRight: =10
                                                Width: =Parent.Width-20
                                              Children:
                                                - PrivDescTextCanvas:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      AutoHeight: =true
                                                      FontColor: =ColorValue(AppTheme.palette.neutralPrimary)
                                                      Height: =55
                                                      PaddingBottom: =0
                                                      PaddingLeft: =0
                                                      PaddingRight: =0
                                                      PaddingTop: =0
                                                      Size: =LookUp(_typeramp,name="Caption1").fontSize
                                                      Text: |-
                                                        =If(
                                                            currentSelectedPrivilege.PrivilegeComplianceStatus = "Not allowed",
                                                            "This privilege has not been approved for use at any level. Remove the privilege from the role and rescan, or contact your admin to coordinate an exception.",
                                                            "The highest approved access level is " & Lower(currentSelectedPrivilege.RecommendedLevel) & ". Remove the privilege from the role and rescan, or contact your admin to coordinate an exception."
                                                        )//DVAssessmentPageLoc.prvOrgRiskInfo
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Weight: =LookUp(_typeramp,name="Caption1").fontWeight
                                                      Width: =Parent.Width-40
                                                      X: =7
                                                      Y: =94
                                                - PrivDescTextCanvas_1:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      AutoHeight: =true
                                                      FontColor: =RGBA(0, 0, 0, 1)
                                                      Height: =If(PaneListScreen.Size=1,100,60)//560//60
                                                      Text: |-
                                                        =If(
                                                            currentSelectedPrivilege.PrivilegeComplianceStatus = "Not allowed",
                                                            "This privilege has not been approved for use at any level. Remove the privilege from the role and rescan, or contact your admin to coordinate an exception.",
                                                            "The highest approved access level is user. Remove the privilege from the role and rescan, or contact your admin to coordinate an exception."
                                                        )//DVAssessmentPageLoc.prvOrgRiskInfo
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Visible: =false
                                                      Width: =Parent.Width-30
                                                - PrivWarningContainer:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      Fill: =RGBA(255, 184, 174, 1)
                                                      FillPortions: =0
                                                      Height: =35
                                                      LayoutAlignItems: =LayoutAlignItems.Center
                                                      LayoutDirection: =LayoutDirection.Vertical
                                                      LayoutJustifyContent: =LayoutJustifyContent.Center
                                                      LayoutMinHeight: =25
                                                      Visible: =false
                                                      Width: =180
                                                    Children:
                                                      - PrivWarningTextCanvas:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            Align: ='TextCanvas.Align'.Center
                                                            Font: =Font.'Segoe UI'
                                                            FontColor: =RGBA(36, 36, 36, 1)
                                                            Text: =currentSelectedPrivilege.NewSeverity &" "&DVAssessmentPageLoc.severityColumn
                                                            VerticalAlign: =VerticalAlign.Middle
                                                            Weight: ='TextCanvas.Weight'.Regular
                                                            Width: =150
                                          - div_23:
                                              Control: Rectangle@2.3.0
                                              Properties:
                                                AccessibleLabel: ="buffer"
                                                Fill: =RGBA(0,0,0,0)
                                                Height: =2
                                                Width: =Parent.Width - Self.X * 2
                                                X: =84
                                                Y: =256
                                    - PrivilegeLevelChangesContainer:
                                        Control: GroupContainer@1.3.0
                                        Variant: AutoLayout
                                        Properties:
                                          AlignInContainer: =AlignInContainer.Start
                                          BorderColor: =
                                          BorderStyle: =BorderStyle.None
                                          DropShadow: =DropShadow.None
                                          FillPortions: =0
                                          Height: =PrivilegetypeContainer.Height+RecommendedLevelContainer.Height+PrivilegeChangesSaveButtonsContainer.Height//If(EditPrivilegeScreen.Size=1,360,346)//346
                                          LayoutDirection: =LayoutDirection.Vertical
                                          PaddingTop: =5
                                          RadiusBottomLeft: =0
                                          RadiusBottomRight: =0
                                          RadiusTopLeft: =0
                                          RadiusTopRight: =0
                                          Width: =Parent.Width-20
                                        Children:
                                          - PrivilegetypeContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.SetByContainer
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =80
                                                LayoutDirection: =LayoutDirection.Vertical
                                                LayoutMinHeight: =50
                                                PaddingLeft: =5
                                                PaddingTop: =5
                                                Width: =Parent.Width-10
                                              Children:
                                                - PrivTypeLabel:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =RGBA(50, 49, 48, 1)
                                                      Text: =DVAssessmentPageLoc.privilegeTypeText
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Weight: ='TextCanvas.Weight'.Semibold
                                                      Width: =100
                                                - PrivTypeValue:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =RGBA(50, 49, 48, 1)
                                                      Height: =40
                                                      Text: =currentSelectedPrivilege.securityPrivilegeName
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Width: =300
                                          - RecommendedLevelContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.SetByContainer
                                                BorderColor: =RGBA(255, 255, 255, 1)
                                                BorderStyle: =BorderStyle.None
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =80
                                                LayoutDirection: =LayoutDirection.Vertical
                                                LayoutMinHeight: =80
                                                PaddingLeft: =5
                                                PaddingTop: =5
                                                Width: =Parent.Width-10
                                              Children:
                                                - RecommendedLevelLabel:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =RGBA(50, 49, 48, 1)
                                                      Text: =DVAssessmentPageLoc.recommendedLevelColumnName
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Weight: ='TextCanvas.Weight'.Semibold
                                                      Width: =200
                                                - RecommendedLevelValue:
                                                    Control: Text@0.0.50
                                                    Properties:
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =RGBA(50, 49, 48, 1)
                                                      Text: =currentSelectedPrivilege.RecommendedLevel
                                                      VerticalAlign: =VerticalAlign.Middle
                                                      Width: =200
                                          - PrivilegeChangesSaveButtonsContainer:
                                              Control: GroupContainer@1.3.0
                                              Variant: AutoLayout
                                              Properties:
                                                AlignInContainer: =AlignInContainer.SetByContainer
                                                DropShadow: =DropShadow.None
                                                FillPortions: =0
                                                Height: =PrivilegeLevelTitleContainer.Height + CmbPrivilegeLevel.Height + If(Container1_4.Visible, Container1_4.Height,0) + 20
                                                LayoutDirection: =LayoutDirection.Vertical
                                                LayoutGap: =5
                                                PaddingLeft: =5
                                                PaddingTop: =5
                                                Width: =Parent.Width-10
                                              Children:
                                                - PrivilegeLevelTitleContainer:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.SetByContainer
                                                      DropShadow: =DropShadow.None
                                                      FillPortions: =0
                                                      Height: =32
                                                      LayoutDirection: =LayoutDirection.Horizontal
                                                      LayoutMinHeight: =60
                                                      PaddingTop: =5
                                                      Width: =Parent.Width-10
                                                    Children:
                                                      - PrivilegeLevelLabel:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            AlignInContainer: =AlignInContainer.Center
                                                            Font: =Font.'Segoe UI'
                                                            FontColor: =RGBA(36, 36, 36, 1)
                                                            Text: =DVAssessmentPageLoc.privilegeLevelText
                                                            VerticalAlign: =VerticalAlign.Middle
                                                            Weight: ='TextCanvas.Weight'.Semibold
                                                      - PrivLevelInfoIcon:
                                                          Control: Classic/Icon@2.5.0
                                                          Properties:
                                                            AlignInContainer: =AlignInContainer.End
                                                            BorderColor: =RGBA(0, 0, 0, 0)
                                                            Color: =RGBA(66, 66, 66, 1)
                                                            DisabledColor: =RGBA(220, 220, 220, 1)
                                                            DisabledFill: =RGBA(0, 0, 0, 0)
                                                            Height: =25
                                                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                                                            HoverColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                                                            HoverFill: =RGBA(0, 0, 0, 0)
                                                            Icon: =Icon.Information
                                                            PaddingBottom: =3
                                                            PaddingRight: =3
                                                            PaddingTop: =3
                                                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                                                            PressedColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                                                            PressedFill: =RGBA(0, 0, 0, 0)
                                                            Tooltip: =DVAssessmentPageLoc.accessLevelTooltip
                                                            Width: =32
                                                - CmbPrivilegeLevel:
                                                    Control: ComboBox@0.0.49
                                                    Properties:
                                                      AccessibleLabel: ="ComboboxPrivilegeLevel"
                                                      BasePaletteColor: =RGBA(245, 245, 245, 1)
                                                      DefaultSelectedItems: =Filter(col_privilegesLevel,ItemValue=currentSelectedLevel)
                                                      Font: =Font.'Segoe UI'
                                                      FontColor: =RGBA(36, 36, 36, 1)
                                                      FontSize: =14
                                                      FontWeight: =FontWeight.Normal
                                                      Items: =col_privilegesLevel
                                                      OnChange: |
                                                        =UpdateContext(
                                                            {
                                                                currentSelectedLevel: CmbPrivilegeLevel.Selected.ItemValue,
                                                                showWarningMessageBar: true
                                                            }
                                                        );
                                                    Children:
                                                      - ItemValue2_1:
                                                          Control: ComboBoxDataField@1.5.0
                                                          Variant: textualColumn
                                                          IsLocked: true
                                                          Properties:
                                                            FieldDisplayName: ="ItemValue"
                                                            FieldName: ="ItemValue"
                                                            FieldType: ="s"
                                                            Order: =1
                                                      - ItemKey2_1:
                                                          Control: ComboBoxDataField@1.5.0
                                                          Variant: textualColumn
                                                          IsLocked: true
                                                          Properties:
                                                            FieldDisplayName: ="ItemKey"
                                                            FieldName: ="ItemKey"
                                                            FieldType: ="n"
                                                            Order: =2
                                                - Container1_4:
                                                    Control: GroupContainer@1.3.0
                                                    Variant: AutoLayout
                                                    Properties:
                                                      AlignInContainer: =AlignInContainer.Start
                                                      BorderColor: =RGBA(255, 255, 255, 1)
                                                      BorderStyle: =BorderStyle.None
                                                      DropShadow: =DropShadow.None
                                                      FillPortions: =0
                                                      Height: =90//If(EditPrivilegeScreen.Size=1,136,90)//60
                                                      LayoutDirection: =LayoutDirection.Horizontal
                                                      PaddingTop: =5
                                                      Visible: = If(CmbPrivilegeLevel.Selected.ItemValue = PrivilegesList.Selected.level,false,true) && showWarningMessageBar
                                                      Width: =Parent.Width-20
                                                    Children:
                                                      - Icon1_1:
                                                          Control: Classic/Icon@2.5.0
                                                          Properties:
                                                            AlignInContainer: =AlignInContainer.Start
                                                            BorderColor: =RGBA(0, 0, 0, 0)
                                                            Color: =RGBA(196, 53, 1, 1)
                                                            DisabledColor: =RGBA(220, 220, 220, 1)
                                                            DisabledFill: =RGBA(0, 0, 0, 0)
                                                            DisplayMode: =DisplayMode.View
                                                            Fill: =RGBA(255, 2455, 255, 1)
                                                            Height: =32
                                                            HoverBorderColor: =RGBA(0, 0, 0, 0)
                                                            HoverColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                                                            HoverFill: =RGBA(0, 0, 0, 0)
                                                            Icon: =Icon.Warning
                                                            PaddingBottom: =3
                                                            PaddingLeft: =3
                                                            PaddingRight: =3
                                                            PaddingTop: =3
                                                            PressedBorderColor: =RGBA(0, 0, 0, 0)
                                                            PressedColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                                                            PressedFill: =RGBA(0, 0, 0, 0)
                                                            Visible: =false
                                                            Width: =30
                                                      - TextCanvas1_2:
                                                          Control: Text@0.0.50
                                                          Properties:
                                                            Align: ='TextCanvas.Align'.Start
                                                            Font: =Font.'Segoe UI'
                                                            FontColor: =RGBA(196, 53, 1, 1)
                                                            Height: =60
                                                            Text: |-
                                                              ="Warning: This form will update the actual security role privilege, impacting user access"
                                                            VerticalAlign: =VerticalAlign.Top
                                                            Visible: =false
                                                            Width: =Parent.Width-Icon1_1.Width
                              - PrivChangesBtnContainer:
                                  Control: GroupContainer@1.3.0
                                  Variant: AutoLayout
                                  Properties:
                                    DropShadow: =DropShadow.None
                                    FillPortions: =FlexOff
                                    Height: =40
                                    LayoutAlignItems: =LayoutAlignItems.Center
                                    LayoutDirection: =LayoutDirection.Horizontal
                                    LayoutGap: =8
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Width: =288
                                    Y: =649
                                  Children:
                                    - PrivSaveButtonCanvas:
                                        Control: Button@0.0.44
                                        Properties:
                                          AccessibleLabel: ="Save"
                                          Appearance: ='ButtonCanvas.Appearance'.Primary
                                          DisplayMode: |-
                                            =If(
                                                !IsBlank(AutoScanEnvVar) && AutoScanEnvVar.Value = "yes",
                                                If(
                                                    CmbPrivilegeLevel.Selected.ItemValue = currentSelectedPrivilege.level,
                                                    DisplayMode.Disabled,
                                                    If(
                                                        makeDetailsListEditableForRoleUpdation,
                                                        DisplayMode.Edit,
                                                        DisplayMode.Disabled
                                                    )
                                                ),
                                                DisplayMode.Disabled
                                            )
                                          OnSelect: "=UpdateContext(\n    {\n        init: false,\n        showSpinnerForEditRolesColor: RGBA(\n            255,\n            255,\n            255,\n            0.7\n        ),\n        showSpinnerForEditRolesLabel: DVAssessmentPageLoc.savingLoaderText\n    }\n);\nClearCollect(\n    selectedDepthLevel,\n    LookUp(\n        securityPrivilegesLevel,\n        ItemValue = currentSelectedLevel\n    )\n);\nIf(\n    LookUp(\n        securityPrivilegesLevel,\n        ItemValue = currentSelectedLevel\n    ).ItemValue = DVAssessmentPageLoc.noAccessPriviliegeLevel,\n    Remove(\n        col_roleprivileges,\n        LookUp(\n            col_roleprivileges,\n            ThisRecord.PrivilegeId = currentSelectedPrivilege.privilegeId\n        )\n    ),\n    UpdateContext(\n        {\n            depthToBeUpdated: LookUp(\n                PrivilegesLeDepthLevel,\n                ItemKey = First(selectedDepthLevel).ItemValue\n            )\n        }\n    );\n    Patch(\n        col_roleprivileges,\n        LookUp(\n            col_roleprivileges,\n            PrivilegeId = currentSelectedPrivilege.privilegeId\n        ),\n        {Depth: depthToBeUpdated.ItemValue}\n    );\n    \n);\nSet(\n    updatedPrivileges,\n    JSON({Privileges: col_roleprivileges})\n);\nUpdateContext({triggerUpdateRolePrivileges: !triggerUpdateRolePrivileges});\n"
                                          Text: ="Save"
                                    - PrivCancelButtonCanvas:
                                        Control: Button@0.0.44
                                        Properties:
                                          AccessibleLabel: ="Cancel"
                                          Appearance: ='ButtonCanvas.Appearance'.Secondary
                                          OnSelect: |
                                            =UpdateContext(
                                                {
                                                    showPane:false,
                                                    selectedRows: Filter(
                                                        currentRolePrivileges_temp,
                                                        RecordSelected = true
                                                    )
                                                }
                                            );
                                            If(
                                                CountRows(selectedRows) > 0,
                                                ForAll(
                                                    selectedRows,
                                                    Patch(
                                                        currentRolePrivileges_temp,
                                                        ThisRecord,
                                                        {RecordSelected: false}
                                                    );
                                                );
                                                ClearCollect(currentRolePrivilegesToBeDisplayed,currentRolePrivileges_temp);
                                                ,
                                                false
                                            );

                                            UpdateContext(
                                                {
                                                    showPrvEditContainer: false,
                                                    ctxTableEvent: "ClearSelection" & Text(Rand()),
                                                    currentSelectedPrivilege:Blank(),
                                                    makeDetailsListEditableForRoleUpdation:true
                                                }
                                            );
                                            If(
                                                !hidePanelBackButton,
                                                UpdateContext({hidePanelBackButton: true}),
                                                true
                                            );
                                          Text: ="Cancel"
                              - DVReplaceRolePrivileges:
                                  Control: CodeComponent
                                  ComponentName: cat_PowerCAT.DVAPITester
                                  Properties:
                                    Data: =updatedPrivileges
                                    Height: =1
                                    Method: ='PowerCAT.DVAPITester.Method'.Post
                                    OnChange: "=/*Set(\n    responseUpdatedPrv,\n    Text(Self.OutputString)\n);*/\nIf(\n    DVReplaceRolePrivileges.IsSuccessful,\n    Notify(\n        DVAssessmentPageLoc.roleUpdatedSuccessfullyText,\n        NotificationType.Success,\n        5000\n    );\n    UpdateContext(\n        {\n            privilegeRiskBaselineRecord: LookUp(\n                'Privilege Risk Baselines',\n                'Privilege Name' = currentSelectedPrivilege.privilegeName && 'Risk Assessment Setting'.'Risk Assessment Setting' = cmbRiskAssessmentHistory.Selected.AssessmentSettingId\n            )\n        }\n    );\n    If(\n        IsBlankOrError(privilegeRiskBaselineRecord),\n        Set(\n            updatedSeverity,\n            \"Critical\"\n        ),\n        Set(\n            updatedSeverity,\n            With(\n                {baseLineRecord: privilegeRiskBaselineRecord},\n                Switch(\n                    currentSelectedLevel,\n                    DVAssessmentPageLoc.userColumnName,\n                    Text(baseLineRecord.User),\n                    DVAssessmentPageLoc.parentChildBuColumnName,\n                    Text(baseLineRecord.'Parent Child Business Unit'),\n                    DVAssessmentPageLoc.businessUnitColumnName,\n                    Text(baseLineRecord.'Business Unit'),\n                    DVAssessmentPageLoc.organizationColumnName,\n                    Text(baseLineRecord.Organization),\n                    DVAssessmentPageLoc.noAccessPriviliegeLevel,\n                    Text('Assessed Risk Level (Risk Assessments)'.'No Risk')//Text(DVAssessmentPageLoc.noRiskValue)\n/* Default action */,\n                    false\n                )\n            )\n        );\n        /* Set(\n            updatedSeverity,\n            With(\n                {\n                    baseLineRecord: LookUp(\n                        LookUp(\n                            BaseLineSettingsListForRoles,\n                            AssessmentSettingId = GUID(selectedRoleRiskAssessmentProfileId)\n                        ).RiskConfiguration,\n                        Type = currentSelectedPrivilege.securityPrivilegeName\n                    )\n                },\n                Switch(\n                    currentSelectedLevel,\n                    DVAssessmentPageLoc.userColumnName,\n                    Text(baseLineRecord.User),\n                    DVAssessmentPageLoc.parentChildBuColumnName,\n                    Text(baseLineRecord.ParentChildBusinessUnit),\n                    DVAssessmentPageLoc.businessUnitColumnName,\n                    Text(baseLineRecord.BusinessUnit),\n                    DVAssessmentPageLoc.organizationColumnName,\n                    Text(baseLineRecord.Organization),\n                    DVAssessmentPageLoc.noAccessPriviliegeLevel,\n                    Text('Assessed Risk Level (Risk Assessments)'.'No Risk')//Text(DVAssessmentPageLoc.noRiskValue)\n                    false\n                )\n            )\n        );*/\n    );\n    UpdateContext(\n        {\n            selectedRows: Filter(\n                currentRolePrivileges_temp,\n                RecordSelected = true\n            )\n        }\n    );\n    If(\n        CountRows(selectedRows) > 0,\n        ForAll(\n            selectedRows,\n            Patch(\n                currentRolePrivileges_temp,\n                ThisRecord,\n                {RecordSelected: false}\n            );\n        );\n        ,\n        false\n    );\n    Patch(\n        currentRolePrivileges_temp,\n        LookUp(\n            currentRolePrivileges_temp,\n            RolePrivilegeName = LookUp(\n                RolePrvilegesWithRowNumber,\n                RowNumber = currentSelectedPrivilege.RowNumber\n            ).RolePrivilegeName\n        ),\n        {\n            level: currentSelectedLevel,\n            NewSeverity: First(\n                Filter(\n                    col_PrivilegesSeverityRisk,\n                    Severity = updatedSeverity\n                )\n            ).Severity,\n            /* NewSeverityTagColor: LookUp(\n                ChartThemeRiskForRoles,\n                status = Text(\n                    LookUp(\n                        col_PrivilegesSeverityRisk,\n                        Severity = updatedSeverity\n                    ).Severity\n                )\n            ).color*/\n            NewSeverityTagColor: Switch(\n                updatedSeverity,\n                \"Critical\",\n                \"#D83A00\",\n                \"High\",\n                \"#FF9349\",\n                \"Moderate\",\n                \"#FFBA01\",\n                \"Low\",\n                \"#029DCC\",\n                \"#18AB58\"// No risk\n            ),\n            RecordSelected: true\n        }\n    );\n    ClearCollect(\n        currentRolePrivileges_temp,\n        SortByColumns(\n            With(\n                {\n                    currentItem: Sort(\n                        currentRolePrivileges_temp,\n                        assessedRiskDetailsSortCol,\n                        If(\n                            assessedRiskDetailsSortOrder = 'PowerCAT.FluentDetailsList.SortEventDirection'.Ascending,\n                            SortOrder.Ascending,\n                            SortOrder.Descending\n                        )\n                    )\n                },\n                ForAll(\n                    Sequence(CountRows(currentItem)),\n                    Patch(\n                        Last(\n                            FirstN(\n                                currentItem,\n                                Value\n                            )\n                        ),\n                        {RowNumber: Value}\n                    )\n                )\n            ),\n            \"NewSeverity\",\n            SortOrder.Ascending\n        )\n    );\n    ClearCollect(\n        currentRolePrivilegesToBeDisplayed,\n        currentRolePrivileges_temp\n    );\n    UpdateContext({makeDetailsListEditableForRoleUpdation: false});\n    UpdateContext(\n        {\n            skipToUpdatedPage: true,\n            showMessageBarForRoleUpdation: true,\n            isRoleUpdatedSuccessfully: true\n        }\n    );\n    If(\n     // check if there were any errors when the test score was submitted\n        !IsEmpty(Errors(currentRolePrivileges_temp)),\n     // if true, show any error message\n        Notify(\n            Concat(\n                Errors(currentRolePrivileges_temp),\n                Column & \": \" & Message\n            ),\n            NotificationType.Error,\n            11111\n        ),\n     // else, false\n        false;\n    ),\n    Notify(\n        DVAssessmentPageLoc.errorMessageText,\n        NotificationType.Error,\n        11111\n    )\n);\nIf(\n    skipToUpdatedPage,\n    Set(\n        varPageNumber,\n        RoundUp(\n            LookUp(\n                RolePrvilegesWithRowNumber,\n                RecordSelected = true\n            ).RowNumber / PageNumber.Selected.Value,\n            0\n        )\n    );\n    UpdateContext({ctxGridEvent: \"LoadNextPageSetFocusOnRow\" & Text(Rand())});\n    UpdateContext({skipToUpdatedPage: false});\n    ,\n    UpdateContext({skipToUpdatedPage: false});\n    \n);\nUpdateContext(\n    {\n        currentSelectedLevel: currentSelectedPrivilege.level,\n        ctxTableEvent: \"SetSelection\" & Text(Rand())\n    }\n);\nIf(\n    isRoleUpdatedSuccessfully,\n    Clear(SelectedAssessmentRolePrivileges),\n    true\n);\nUpdateContext({init: true});\n"
                                    RequestID: =Rand()
                                    RequestURL: ="/api/data/v9.2/roles("&RoleId&")/Microsoft.Dynamics.CRM.ReplacePrivilegesRole"
                                    Tooltip: =
                                    Trigger: =triggerUpdateRolePrivileges
                                    Width: =1
      - cSpinner_6:
          Control: GroupContainer@1.3.0
          Variant: AutoLayout
          Properties:
            Fill: =If(IsBlankOrError(showSpinnerForEditRolesColor),ColorValue("#fafafa"),showSpinnerForEditRolesColor)
            Height: =Parent.Height
            LayoutDirection: =LayoutDirection.Vertical
            Visible: =init <> true
            Width: =Parent.Width
          Children:
            - Spinner1_7:
                Control: Spinner@1.4.6
                Properties:
                  AccessibleLabel: ="Spinner"
                  Height: =Parent.Height
                  Label: =showSpinnerForEditRolesLabel
                  SpinnerSize: ='Spinner.SpinnerSize'.Large
                  Width: =Parent.Width
      - DVRetrieveRolePrivileges:
          Control: CodeComponent
          ComponentName: cat_PowerCAT.DVAPITester
          Properties:
            Data: ="{}"
            Height: =1
            OnChange: |
              =UpdateContext({responseRetrieveRoles: Text(Self.OutputString)});
              ClearCollect(
                  col_roleprivileges_temp,
                  Table({Privileges: ParseJSON(responseRetrieveRoles).RolePrivileges})
              );
              ClearCollect(
                  col_roleprivileges,
                  ForAll(
                      Table(First(col_roleprivileges_temp).Privileges),
                      {
                          Depth: Text(ThisRecord.Value.Depth),
                          PrivilegeId: GUID(ThisRecord.Value.PrivilegeId),
                          BusinessUnitId: GUID(ThisRecord.Value.BusinessUnitId),
                          PrivilegeName: Text(ThisRecord.Value.PrivilegeName),
                          RecordFilterId: Text(ThisRecord.Value.RecordFilterId),
                          RecordFilterUniqueName: Text(ThisRecord.Value.RecordFilterUniqueName)
                      }
                  )
              );
            RequestID: =Rand()
            RequestURL: ="/api/data/v9.2/RetrieveRolePrivilegesRole(RoleId="&RoleId&")"
            Tooltip: =
            Trigger: =triggerRetrieveRolePrivileges
            Width: =1
            X: =80
            Y: =80
